(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";function Ze(){const t=e.useAttrs();return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...t},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ze.compatConfig={MODE:3};function an(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}an.compatConfig={MODE:3};function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}wt.compatConfig={MODE:3};function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Mt.compatConfig={MODE:3};function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Dt.compatConfig={MODE:3};function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}St.compatConfig={MODE:3};function Ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Ct.compatConfig={MODE:3};const Ne=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),Bt=(t,n,l)=>{const a=Tt(t,n,l);return a||W()},Vn=(t,n,l)=>{const a=n.dateInTz?Ne(new Date(t),n.dateInTz):W(t);return l?Pe(a,!0):a},Tt=(t,n,l)=>{if(!t)return null;const a=l?Pe(W(t),!0):W(t);return n?n.exactMatch?Vn(t,n,l):Ne(a,n.timezone):a},_n=(t,n)=>{if(!t)return 0;const l=new Date,a=new Date(l.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(l.toLocaleString("en-US",{timeZone:t})),c=(n??r).getTimezoneOffset()/60;return(+a-+r)/(1e3*60*60)-c};var Oe=(t=>(t.month="month",t.year="year",t))(Oe||{}),Ye=(t=>(t.top="top",t.bottom="bottom",t))(Ye||{}),Qe=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Qe||{}),Be=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Be||{});const In=["timestamp","date","iso"];var $e=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))($e||{}),ye=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(ye||{});function rn(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function zn(t){return n=>s.format(Ne(new Date(`2017-01-0${n}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const Ln=(t,n,l)=>{const a=[1,2,3,4,5,6,7];let r;if(t!==null)try{r=a.map(zn(t))}catch{r=a.map(rn(n))}else r=a.map(rn(n));const c=r.slice(0,l),f=r.slice(l+1,r.length);return[r[l]].concat(...f).concat(...c)},$t=(t,n,l)=>{const a=[];for(let r=+t[0];r<=+t[1];r++)a.push({value:+r,text:dn(r,n)});return l?a.reverse():a},ln=(t,n,l)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(c=>{const f=c<10?`0${c}`:c;return new Date(`2017-${f}-01T00:00:00+00:00`)});if(t!==null)try{const c=l==="long"?"LLLL":"LLL";return a.map((f,b)=>{const m=s.format(Ne(f,"UTC"),c,{locale:t});return{text:m.charAt(0).toUpperCase()+m.substring(1),value:b}})}catch{}const r=new Intl.DateTimeFormat(n,{month:l,timeZone:"UTC"});return a.map((c,f)=>{const b=r.format(c);return{text:b.charAt(0).toUpperCase()+b.substring(1),value:f}})},Hn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Se=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},Un=t=>({type:"dot",...t??{}}),on=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,At={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},De=t=>t,sn=t=>t===0?t:!t||isNaN(+t)?null:+t,un=t=>t===null,cn=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Wn=t=>{const n=[],l=a=>a.filter(r=>r);for(let a=0;a<t.length;a+=3){const r=[t[a],t[a+1],t[a+2]];n.push(l(r))}return n},rt=(t,n,l)=>{const a=l!=null,r=n!=null;if(!a&&!r)return!1;const c=+l,f=+n;return a&&r?+t>c||+t<f:a?+t>c:r?+t<f:!1},Fe=(t,n)=>Wn(t).map(l=>l.map(a=>{const{active:r,disabled:c,isBetween:f,highlighted:b}=n(a);return{...a,active:r,disabled:c,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:c,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:c&&r,dp__cell_in_between:f,"dp--highlighted":b}}})),We=(t,n,l=!1)=>{t&&n.allowStopPropagation&&(l&&t.stopImmediatePropagation(),t.stopPropagation())},jn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Kn(t,n){let l=[...document.querySelectorAll(jn())];l=l.filter(r=>!t.contains(r)||r.hasAttribute("data-datepicker-instance"));const a=l.indexOf(t);if(a>=0&&(n?a-1>=0:a+1<=l.length))return l[a+(n?-1:1)]}const Pt=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),dn=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Rt=t=>s.format(t,"dd-MM-yyyy"),Nt=t=>Array.isArray(t),dt=(t,n)=>n.get(Rt(t)),xn=(t,n)=>t?n?n instanceof Map?!!dt(t,n):n(W(t)):!1:!0,Ae=(t,n,l=!1,a)=>{if(t.key===ye.enter||t.key===ye.space)return l&&t.preventDefault(),n();if(a)return a(t)},fn=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].some(t=>navigator.userAgent.includes(t))||navigator.userAgent.includes("Mac")&&"ontouchend"in document,mn=(t,n,l,a,r,c)=>{const f=s.parse(t,n.slice(0,t.length),new Date,{locale:c});return s.isValid(f)&&s.isDate(f)?a||r?f:s.set(f,{hours:+l.hours,minutes:+(l==null?void 0:l.minutes),seconds:+(l==null?void 0:l.seconds),milliseconds:0}):null},qn=(t,n,l,a,r,c)=>{const f=Array.isArray(l)?l[0]:l;if(typeof n=="string")return mn(t,n,f,a,r,c);if(Array.isArray(n)){let b=null;for(const m of n)if(b=mn(t,m,f,a,r,c),b)break;return b}return typeof n=="function"?n(t):null},W=t=>t?new Date(t):new Date,Gn=(t,n,l)=>{if(n){const r=(t.getMonth()+1).toString().padStart(2,"0"),c=t.getDate().toString().padStart(2,"0"),f=t.getHours().toString().padStart(2,"0"),b=t.getMinutes().toString().padStart(2,"0"),m=l?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${r}-${c}T${f}:${b}:${m}.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},Pe=(t,n)=>{const l=W(JSON.parse(JSON.stringify(t))),a=s.set(l,{hours:0,minutes:0,seconds:0,milliseconds:0});return n?s.startOfMonth(a):a},je=(t,n,l,a)=>{let r=t?W(t):W();return(n||n===0)&&(r=s.setHours(r,+n)),(l||l===0)&&(r=s.setMinutes(r,+l)),(a||a===0)&&(r=s.setSeconds(r,+a)),s.setMilliseconds(r,0)},be=(t,n)=>!t||!n?!1:s.isBefore(Pe(t),Pe(n)),pe=(t,n)=>!t||!n?!1:s.isEqual(Pe(t),Pe(n)),ve=(t,n)=>!t||!n?!1:s.isAfter(Pe(t),Pe(n)),ft=(t,n,l)=>t!=null&&t[0]&&(t!=null&&t[1])?ve(l,t[0])&&be(l,t[1]):t!=null&&t[0]&&n?ve(l,t[0])&&be(l,n)||be(l,t[0])&&ve(l,n):!1,Ve=t=>{const n=s.set(new Date(t),{date:1});return Pe(n)},Et=(t,n,l)=>n&&(l||l===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===n?[a,l]:[a,isNaN(+t[a])?void 0:+t[a]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Xe=t=>({hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),pn=(t,n)=>{if(n){const l=s.getYear(W(n));if(l>t)return 12;if(l===t)return s.getMonth(W(n))}},gn=(t,n)=>{if(n){const l=s.getYear(W(n));return l<t?-1:l===t?s.getMonth(W(n)):void 0}},et=t=>{if(t)return s.getYear(W(t))},yn=(t,n)=>{const l=ve(t,n)?n:t,a=ve(n,t)?n:t;return s.eachDayOfInterval({start:l,end:a})},Qn=t=>{const n=s.addMonths(t,1);return{month:s.getMonth(n),year:s.getYear(n)}},He=(t,n)=>{const l=s.startOfWeek(t,{weekStartsOn:+n}),a=s.endOfWeek(t,{weekStartsOn:+n});return[l,a]},hn=(t,n)=>{const l={hours:s.getHours(W()),minutes:s.getMinutes(W()),seconds:n?s.getSeconds(W()):0};return Object.assign(l,t)},Ke=(t,n,l)=>[s.set(W(t),{date:1}),s.set(W(),{month:n,year:l,date:1})],Ue=(t,n,l)=>{let a=t?W(t):W();return(n||n===0)&&(a=s.setMonth(a,n)),l&&(a=s.setYear(a,l)),a},kn=(t,n,l,a,r)=>{if(!a||r&&!n||!r&&!l)return!1;const c=r?s.addMonths(t,1):s.subMonths(t,1),f=[s.getMonth(c),s.getYear(c)];return r?!Jn(...f,n):!Xn(...f,l)},Xn=(t,n,l)=>be(...Ke(l,t,n))||pe(...Ke(l,t,n)),Jn=(t,n,l)=>ve(...Ke(l,t,n))||pe(...Ke(l,t,n)),bn=(t,n,l,a,r,c,f)=>{if(typeof n=="function"&&!f)return n(t);const b=l?{locale:l}:void 0;return Array.isArray(t)?`${s.format(t[0],c,b)}${r&&!t[1]?"":a}${t[1]?s.format(t[1],c,b):""}`:s.format(t,c,b)},tt=t=>{if(t)return null;throw new Error(At.prop("partial-range"))},mt=(t,n)=>{if(n)return t();throw new Error(At.prop("range"))},Ot=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,Zn=(t,n)=>s.set(n??W(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Yt=(t,n,l,a)=>{if(!t)return!0;if(a){const r=l==="max"?s.isBefore(t,n):s.isAfter(t,n),c={seconds:0,milliseconds:0};return r||s.isEqual(s.set(t,c),s.set(n,c))}return l==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},Vt=(t,n,l)=>t?Zn(t,n):W(l??n),vn=(t,n,l,a,r)=>{if(Array.isArray(a)){const f=Vt(t,a[0],n),b=Vt(t,a[1],n);return Yt(a[0],f,l,!!n)&&Yt(a[1],b,l,!!n)&&r}const c=Vt(t,a,n);return Yt(a,c,l,!!n)&&r},_t=t=>s.set(W(),Xe(t)),Fn=(t,n)=>t instanceof Map?Array.from(t.values()).filter(l=>s.getYear(W(l))===n).map(l=>s.getMonth(l)):[],ea=(t,n,l)=>{if(t instanceof Map){const a=Array.from(t.values()).filter(r=>s.getYear(W(r))===n).map(r=>s.getMonth(r));return a.length?a.includes(l):!0}return!0},wn=(t,n,l)=>typeof t=="function"?t({month:n,year:l}):!!t.months.find(a=>a.month===n&&a.year===l),It=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Mn=t=>s.format(t,"yyyy-MM-dd"),lt=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Dn=()=>{const t=a=>{lt.menuFocused=a},n=a=>{lt.shiftKeyInMenu!==a&&(lt.shiftKeyInMenu=a)};return{control:e.computed(()=>({shiftKeyInMenu:lt.shiftKeyInMenu,menuFocused:lt.menuFocused})),setMenuFocused:t,setShiftKey:n}},he=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),zt=e.ref(null),pt=e.ref(!1),Lt=e.ref(!1),Ht=e.ref(!1),Ut=e.ref(!1),Te=e.ref(0),we=e.ref(0),xe=()=>{const t=e.computed(()=>pt.value?[...he.selectionGrid,he.actionRow].filter(d=>d.length):Lt.value?[...he.timePicker[0],...he.timePicker[1],Ut.value?[]:[zt.value],he.actionRow].filter(d=>d.length):Ht.value?[...he.monthPicker,he.actionRow]:[he.monthYear,...he.calendar,he.time,he.actionRow].filter(d=>d.length)),n=d=>{Te.value=d?Te.value+1:Te.value-1;let A=null;t.value[we.value]&&(A=t.value[we.value][Te.value]),!A&&t.value[we.value+(d?1:-1)]?(we.value=we.value+(d?1:-1),Te.value=d?0:t.value[we.value].length-1):A||(Te.value=d?Te.value-1:Te.value+1)},l=d=>{if(we.value===0&&!d||we.value===t.value.length&&d)return;we.value=d?we.value+1:we.value-1,t.value[we.value]?t.value[we.value]&&!t.value[we.value][Te.value]&&Te.value!==0&&(Te.value=t.value[we.value].length-1):we.value=d?we.value-1:we.value+1},a=d=>{let A=null;t.value[we.value]&&(A=t.value[we.value][Te.value]),A?A.focus({preventScroll:!pt.value}):Te.value=d?Te.value-1:Te.value+1},r=()=>{n(!0),a(!0)},c=()=>{n(!1),a(!1)},f=()=>{l(!1),a(!0)},b=()=>{l(!0),a(!0)},m=(d,A)=>{he[A]=d},Y=(d,A)=>{he[A]=d},p=()=>{Te.value=0,we.value=0};return{buildMatrix:m,buildMultiLevelMatrix:Y,setTimePickerBackRef:d=>{zt.value=d},setSelectionGrid:d=>{pt.value=d,p(),d||(he.selectionGrid=[])},setTimePicker:(d,A=!1)=>{Lt.value=d,Ut.value=A,p(),d||(he.timePicker[0]=[],he.timePicker[1]=[])},setTimePickerElements:(d,A=0)=>{he.timePicker[A]=d},arrowRight:r,arrowLeft:c,arrowUp:f,arrowDown:b,clearArrowNav:()=>{he.monthYear=[],he.calendar=[],he.time=[],he.actionRow=[],he.selectionGrid=[],he.timePicker[0]=[],he.timePicker[1]=[],pt.value=!1,Lt.value=!1,Ut.value=!1,Ht.value=!1,p(),zt.value=null},setMonthPicker:d=>{Ht.value=d,p()},refSets:he}},Sn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),ta=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:n=>`Month picker${n?" overlay":""}`,yearPicker:n=>`Year picker${n?" overlay":""}`,timeOverlay:n=>`${n} overlay`,...t??{}}),Cn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,na=t=>{const n=typeof t=="object"&&t,l={static:!0,solo:!1};if(!t)return{...l,count:Cn(!1)};const a=n?t:{},r=n?a.count??!0:t,c=Cn(r);return Object.assign(l,a,{count:c})},aa=(t,n,l)=>t||(typeof l=="string"?l:n),ra=t=>typeof t=="boolean"?t?Sn({}):!1:Sn(t),la=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},oa=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),sa=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),ia=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},ua=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1},...t??{}}),ca=t=>{const n={dates:Array.isArray(t)?t.map(l=>W(l)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},da=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},fa=t=>{const n={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...n,...t}:{enabled:t,...n}},ma=t=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:t.emitTimezone??void 0,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Wt=(t,n,l)=>new Map(t.map(a=>{const r=Bt(a,n,l);return[Rt(r),r]})),pa=(t,n)=>t.length?new Map(t.map(l=>{const a=Bt(l.date,n);return[Rt(a),l]})):null,ga=t=>{var n;return{minDate:Tt(t.minDate,t.timezone,t.isSpecific),maxDate:Tt(t.maxDate,t.timezone,t.isSpecific),disabledDates:Nt(t.disabledDates)?Wt(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Nt(t.allowedDates)?Wt(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Nt((n=t.highlight)==null?void 0:n.dates)?Wt(t.highlight.dates,t.timezone):t.highlight,markers:pa(t.markers,t.timezone)}},ya=t=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:null}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},ha=t=>({...Object.fromEntries(Object.keys(t).map(l=>{const a=l,r=t[a],c=typeof t[a]=="string"?{[r]:!0}:Object.fromEntries(r.map(f=>[f,!0]));return[l,c]}))}),ke=t=>{const n=()=>{const F=t.enableSeconds?":ss":"",X=t.enableMinutes?":mm":"";return t.is24?`HH${X}${F}`:`hh${X}${F} aa`},l=()=>{var F;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((F=U.value)==null?void 0:F.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},a=F=>hn(F,t.enableSeconds),r=()=>I.value.enabled?t.startTime&&Array.isArray(t.startTime)?[a(t.startTime[0]),a(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?a(t.startTime):null,c=e.computed(()=>na(t.multiCalendars)),f=e.computed(()=>r()),b=e.computed(()=>ta(t.ariaLabels)),m=e.computed(()=>oa(t.filters)),Y=e.computed(()=>ra(t.transitions)),p=e.computed(()=>sa(t.actionRow)),P=e.computed(()=>aa(t.previewFormat,t.format,l())),g=e.computed(()=>la(t.textInput)),$=e.computed(()=>ia(t.inline)),H=e.computed(()=>ua(t.config)),O=e.computed(()=>ca(t.highlight)),U=e.computed(()=>da(t.weekNumbers)),d=e.computed(()=>ma(t.timezone)),A=e.computed(()=>ya(t.multiDates)),N=e.computed(()=>ga({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:O.value,markers:t.markers,timezone:d.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),I=e.computed(()=>fa(t.range)),x=e.computed(()=>ha(t.ui));return{defaultedTransitions:Y,defaultedMultiCalendars:c,defaultedStartTime:f,defaultedAriaLabels:b,defaultedFilters:m,defaultedActionRow:p,defaultedPreviewFormat:P,defaultedTextInput:g,defaultedInline:$,defaultedConfig:H,defaultedHighlight:O,defaultedWeekNumbers:U,defaultedRange:I,propDates:N,defaultedTz:d,defaultedMultiDates:A,defaultedUI:x,getDefaultPattern:l,getDefaultStartTime:r}},ka=(t,n,l)=>{const a=e.ref(),{defaultedTextInput:r,defaultedRange:c,defaultedTz:f,defaultedMultiDates:b,getDefaultPattern:m}=ke(n),Y=e.ref(""),p=e.toRef(n,"format"),P=e.toRef(n,"formatLocale");e.watch(a,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",a.value,w(!0))},{deep:!0}),e.watch(c,(u,J)=>{u.enabled!==J.enabled&&(a.value=null)}),e.watch(p,()=>{j()});const g=u=>f.value.timezone&&f.value.convertModel?Ne(u,f.value.timezone):u,$=u=>{if(f.value.timezone&&f.value.convertModel){const J=_n(f.value.timezone,u);return s.addHours(u,J)}return u},H=(u,J,ce=!1)=>bn(u,n.format,n.formatLocale,r.value.rangeSeparator,n.modelAuto,J??m(),ce),O=u=>u?n.modelType?k(u):{hours:s.getHours(u),minutes:s.getMinutes(u),seconds:n.enableSeconds?s.getSeconds(u):0}:null,U=u=>n.modelType?k(u):{month:s.getMonth(u),year:s.getYear(u)},d=u=>Array.isArray(u)?b.value.enabled?u.map(J=>A(J,s.setYear(W(),J))):mt(()=>[s.setYear(W(),u[0]),u[1]?s.setYear(W(),u[1]):tt(c.value.partialRange)],c.value.enabled):s.setYear(W(),+u),A=(u,J)=>(typeof u=="string"||typeof u=="number")&&n.modelType?C(u):J,N=u=>Array.isArray(u)?[A(u[0],je(null,+u[0].hours,+u[0].minutes,u[0].seconds)),A(u[1],je(null,+u[1].hours,+u[1].minutes,u[1].seconds))]:A(u,je(null,u.hours,u.minutes,u.seconds)),I=u=>{const J=s.set(W(),{date:1});return Array.isArray(u)?b.value.enabled?u.map(ce=>A(ce,Ue(J,+ce.month,+ce.year))):mt(()=>[A(u[0],Ue(J,+u[0].month,+u[0].year)),A(u[1],u[1]?Ue(J,+u[1].month,+u[1].year):tt(c.value.partialRange))],c.value.enabled):A(u,Ue(J,+u.month,+u.year))},x=u=>{if(Array.isArray(u))return u.map(J=>C(J));throw new Error(At.dateArr("multi-dates"))},F=u=>{if(Array.isArray(u)&&c.value.enabled){const J=u[0],ce=u[1];return[W(Array.isArray(J)?J[0]:null),Array.isArray(ce)&&ce.length?W(ce[0]):null]}return W(u[0])},X=u=>n.modelAuto?Array.isArray(u)?[C(u[0]),C(u[1])]:n.autoApply?[C(u)]:[C(u),null]:Array.isArray(u)?mt(()=>u[1]?[C(u[0]),u[1]?C(u[1]):tt(c.value.partialRange)]:[C(u[0])],c.value.enabled):C(u),B=()=>{Array.isArray(a.value)&&c.value.enabled&&a.value.length===1&&a.value.push(tt(c.value.partialRange))},q=()=>{const u=a.value;return[k(u[0]),u[1]?k(u[1]):tt(c.value.partialRange)]},R=()=>a.value[1]?q():k(De(a.value[0])),K=()=>(a.value||[]).map(u=>k(u)),se=(u=!1)=>(u||B(),n.modelAuto?R():b.value.enabled?K():Array.isArray(a.value)?mt(()=>q(),c.value.enabled):k(De(a.value))),ie=u=>!u||Array.isArray(u)&&!u.length?null:n.timePicker?N(De(u)):n.monthPicker?I(De(u)):n.yearPicker?d(De(u)):b.value.enabled?x(De(u)):n.weekPicker?F(De(u)):X(De(u)),y=u=>{const J=ie(u);Ot(De(J))?(a.value=De(J),j()):(a.value=null,Y.value="")},V=()=>{const u=J=>s.format(J,r.value.format);return`${u(a.value[0])} ${r.value.rangeSeparator} ${a.value[1]?u(a.value[1]):""}`},Z=()=>l.value&&a.value?Array.isArray(a.value)?V():s.format(a.value,r.value.format):H(a.value),h=()=>a.value?b.value.enabled?a.value.map(u=>H(u)).join("; "):r.value.enabled&&typeof r.value.format=="string"?Z():H(a.value):"",j=()=>{!n.format||typeof n.format=="string"||r.value.enabled&&typeof r.value.format=="string"?Y.value=h():Y.value=n.format(a.value)},C=u=>{if(n.utc){const J=new Date(u);return n.utc==="preserve"?new Date(J.getTime()+J.getTimezoneOffset()*6e4):J}return n.modelType?In.includes(n.modelType)?g(new Date(u)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?g(s.parse(u,m(),new Date,{locale:P.value})):g(s.parse(u,n.modelType,new Date,{locale:P.value})):g(new Date(u))},k=u=>u?n.utc?Gn(u,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+$(u):n.modelType==="iso"?$(u).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?H($(u)):H($(u),n.modelType,!0):$(u):"",re=(u,J=!1,ce=!1)=>{if(ce)return u;if(t("update:model-value",u),f.value.emitTimezone&&J){const T=Array.isArray(u)?u.map(fe=>Ne(De(fe),f.value.emitTimezone)):Ne(De(u),f.value.emitTimezone);t("update:model-timezone-value",T)}},E=u=>Array.isArray(a.value)?b.value.enabled?a.value.map(J=>u(J)):[u(a.value[0]),a.value[1]?u(a.value[1]):tt(c.value.partialRange)]:u(De(a.value)),D=()=>{if(Array.isArray(a.value)){const u=He(a.value[0],n.weekStart),J=a.value[1]?He(a.value[1],n.weekStart):[];return[u.map(ce=>W(ce)),J.map(ce=>W(ce))]}return He(a.value,n.weekStart).map(u=>W(u))},G=(u,J)=>re(De(E(u)),!1,J),i=u=>{const J=D();return u?J:t("update:model-value",D())},w=(u=!1)=>(u||j(),n.monthPicker?G(U,u):n.timePicker?G(O,u):n.yearPicker?G(s.getYear,u):n.weekPicker?i(u):re(se(u),!0,u));return{inputValue:Y,internalModelValue:a,checkBeforeEmit:()=>a.value?c.value.enabled?c.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:y,formatInputValue:j,emitModelValue:w}},ba=(t,n)=>{const{defaultedFilters:l,propDates:a}=ke(t),{validateMonthYearInRange:r}=Ge(t),c=(p,P)=>{let g=p;return l.value.months.includes(s.getMonth(g))?(g=P?s.addMonths(p,1):s.subMonths(p,1),c(g,P)):g},f=(p,P)=>{let g=p;return l.value.years.includes(s.getYear(g))?(g=P?s.addYears(p,1):s.subYears(p,1),f(g,P)):g},b=(p,P=!1)=>{const g=s.set(W(),{month:t.month,year:t.year});let $=p?s.addMonths(g,1):s.subMonths(g,1);t.disableYearSelect&&($=s.setYear($,t.year));let H=s.getMonth($),O=s.getYear($);l.value.months.includes(H)&&($=c($,p),H=s.getMonth($),O=s.getYear($)),l.value.years.includes(O)&&($=f($,p),O=s.getYear($)),r(H,O,p,t.preventMinMaxNavigation)&&m(H,O,P)},m=(p,P,g)=>{n("update-month-year",{month:p,year:P,fromNav:g})},Y=e.computed(()=>p=>kn(s.set(W(),{month:t.month,year:t.year}),a.value.maxDate,a.value.minDate,t.preventMinMaxNavigation,p));return{handleMonthYearChange:b,isDisabled:Y,updateMonthYear:m}},gt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},_e={...gt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},va=["title"],wa=["disabled"],Ma=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},..._e},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const l=n,a=t,{defaultedActionRow:r,defaultedPreviewFormat:c,defaultedMultiCalendars:f,defaultedTextInput:b,defaultedInline:m,defaultedRange:Y,defaultedMultiDates:p}=ke(a),{isTimeValid:P,isMonthValid:g}=Ge(a),{buildMatrix:$}=xe(),H=e.ref(null),O=e.ref(null),U=e.ref(!1),d=e.ref({}),A=e.ref(null),N=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&$([Se(H),Se(O)],"actionRow"),I(),window.addEventListener("resize",I)}),e.onUnmounted(()=>{window.removeEventListener("resize",I)});const I=()=>{U.value=!1,setTimeout(()=>{var Z,h;const y=(Z=A.value)==null?void 0:Z.getBoundingClientRect(),V=(h=N.value)==null?void 0:h.getBoundingClientRect();y&&V&&(d.value.maxWidth=`${V.width-y.width-20}px`),U.value=!0},0)},x=e.computed(()=>Y.value.enabled&&!Y.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),F=e.computed(()=>!P.value(a.internalModelValue)||!g.value(a.internalModelValue)||!x.value),X=()=>{const y=c.value;return a.timePicker||a.monthPicker,y(De(a.internalModelValue))},B=()=>{const y=a.internalModelValue;return f.value.count>0?`${q(y[0])} - ${q(y[1])}`:[q(y[0]),q(y[1])]},q=y=>bn(y,c.value,a.formatLocale,b.value.rangeSeparator,a.modelAuto,c.value),R=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof c.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?B():p.value.enabled?a.internalModelValue.map(y=>`${q(y)}`):a.modelAuto?`${q(a.internalModelValue[0])}`:`${q(a.internalModelValue[0])} -`:q(a.internalModelValue):X()),K=()=>p.value.enabled?"; ":" - ",se=e.computed(()=>Array.isArray(R.value)?R.value.join(K()):R.value),ie=()=>{P.value(a.internalModelValue)&&g.value(a.internalModelValue)&&x.value?l("select-date"):l("invalid-select")};return(y,V)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:N,class:"dp__action_row"},[y.$slots["action-row"]?e.renderSlot(y.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:y.internalModelValue,disabled:F.value,selectDate:()=>y.$emit("select-date"),closePicker:()=>y.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(r).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:se.value,style:e.normalizeStyle(d.value)},[y.$slots["action-preview"]&&U.value?e.renderSlot(y.$slots,"action-preview",{key:0,value:y.internalModelValue}):e.createCommentVNode("",!0),!y.$slots["action-preview"]&&U.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(se.value),1)],64)):e.createCommentVNode("",!0)],12,va)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:A,class:"dp__action_buttons","data-dp-element":"action-row"},[y.$slots["action-buttons"]?e.renderSlot(y.$slots,"action-buttons",{key:0,value:y.internalModelValue}):e.createCommentVNode("",!0),y.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(m).enabled&&e.unref(r).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:H,type:"button",class:"dp__action_button dp__action_cancel",onClick:V[0]||(V[0]=Z=>y.$emit("close-picker")),onKeydown:V[1]||(V[1]=Z=>e.unref(Ae)(Z,()=>y.$emit("close-picker")))},e.toDisplayString(y.cancelText),545)):e.createCommentVNode("",!0),e.unref(r).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:V[2]||(V[2]=Z=>y.$emit("select-now")),onKeydown:V[3]||(V[3]=Z=>e.unref(Ae)(Z,()=>y.$emit("select-now")))},e.toDisplayString(y.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(r).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:O,type:"button",class:"dp__action_button dp__action_select",disabled:F.value,"data-test-id":"select-button",onKeydown:V[4]||(V[4]=Z=>e.unref(Ae)(Z,()=>ie())),onClick:ie},e.toDisplayString(y.selectText),41,wa)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),Da=["role","aria-label","tabindex"],Sa={class:"dp__selection_grid_header"},Ca=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],Ba=["aria-label"],ot=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:l}){const{setSelectionGrid:a,buildMultiLevelMatrix:r,setMonthPicker:c}=xe(),f=l,b=t,{defaultedAriaLabels:m,defaultedTextInput:Y,defaultedConfig:p}=ke(b),{hideNavigationButtons:P}=kt(),g=e.ref(!1),$=e.ref(null),H=e.ref(null),O=e.ref([]),U=e.ref(),d=e.ref(null),A=e.ref(0),N=e.ref(null);e.onBeforeUpdate(()=>{$.value=null}),e.onMounted(()=>{e.nextTick().then(()=>K()),b.noOverlayFocus||x(),I(!0)}),e.onUnmounted(()=>I(!1));const I=E=>{var D;b.arrowNavigation&&((D=b.headerRefs)!=null&&D.length?c(E):a(E))},x=()=>{var D;const E=Se(H);E&&(Y.value.enabled||($.value?(D=$.value)==null||D.focus({preventScroll:!0}):E.focus({preventScroll:!0})),g.value=E.clientHeight<E.scrollHeight)},F=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!b.useRelative,"dp--overlay-relative":b.useRelative})),X=e.computed(()=>b.useRelative?{height:`${b.height}px`,width:"var(--dp-menu-min-width)"}:void 0),B=e.computed(()=>({dp__overlay_col:!0})),q=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:g.value,dp__button_bottom:b.isLast})),R=e.computed(()=>{var E,D;return{dp__overlay_container:!0,dp__container_flex:((E=b.items)==null?void 0:E.length)<=6,dp__container_block:((D=b.items)==null?void 0:D.length)>6}});e.watch(()=>b.items,()=>K(!1),{deep:!0});const K=(E=!0)=>{e.nextTick().then(()=>{const D=Se($),G=Se(H),i=Se(d),w=Se(N),_=i?i.getBoundingClientRect().height:0;G&&(G.getBoundingClientRect().height?A.value=G.getBoundingClientRect().height-_:A.value=p.value.modeHeight-_),D&&w&&E&&(w.scrollTop=D.offsetTop-w.offsetTop-(A.value/2-D.getBoundingClientRect().height)-_)})},se=E=>{E.disabled||f("selected",E.value)},ie=()=>{f("toggle"),f("reset-flow")},y=()=>{b.escClose&&ie()},V=(E,D,G,i)=>{E&&((D.active||D.value===b.focusValue)&&($.value=E),b.arrowNavigation&&(Array.isArray(O.value[G])?O.value[G][i]=E:O.value[G]=[E],Z()))},Z=()=>{var D,G;const E=(D=b.headerRefs)!=null&&D.length?[b.headerRefs].concat(O.value):O.value.concat([b.skipButtonRef?[]:[d.value]]);r(De(E),(G=b.headerRefs)!=null&&G.length?"monthPicker":"selectionGrid")},h=E=>{b.arrowNavigation||We(E,p.value,!0)},j=E=>{U.value=E,f("hover-value",E)},C=()=>{if(ie(),!b.isLast){const E=Pt(b.menuWrapRef??null,"action-row");if(E){const D=cn(E);D==null||D.focus()}}},k=E=>{switch(E.key){case ye.esc:return y();case ye.arrowLeft:return h(E);case ye.arrowRight:return h(E);case ye.arrowUp:return h(E);case ye.arrowDown:return h(E);default:return}},re=E=>{if(E.key===ye.enter)return ie();if(E.key===ye.tab)return C()};return n({focusGrid:x}),(E,D)=>{var G;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:H,class:e.normalizeClass(F.value),style:e.normalizeStyle(X.value),role:E.useRelative?void 0:"dialog","aria-label":E.overlayLabel,tabindex:E.useRelative?void 0:"0",onKeydown:k,onClick:D[0]||(D[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",{ref_key:"containerRef",ref:N,class:e.normalizeClass(R.value),style:e.normalizeStyle({"--dp-overlay-height":`${A.value}px`}),role:"grid"},[e.createElementVNode("div",Sa,[e.renderSlot(E.$slots,"header")]),E.$slots.overlay?e.renderSlot(E.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(E.items,(i,w)=>(e.openBlock(),e.createElementBlock("div",{key:w,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:E.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i,(_,u)=>(e.openBlock(),e.createElementBlock("div",{key:_.value,ref_for:!0,ref:J=>V(J,_,w,u),role:"gridcell",class:e.normalizeClass(B.value),"aria-selected":_.active||void 0,"aria-disabled":_.disabled||void 0,tabindex:"0","data-test-id":_.text,onClick:e.withModifiers(J=>se(_),["prevent"]),onKeydown:J=>e.unref(Ae)(J,()=>se(_),!0),onMouseover:J=>j(_.value)},[e.createElementVNode("div",{class:e.normalizeClass(_.className)},[E.$slots.item?e.renderSlot(E.$slots,"item",{key:0,item:_}):e.createCommentVNode("",!0),E.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(_.text),1)],64))],2)],42,Ca))),128))],2))),128))],6),E.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:d,type:"button","aria-label":(G=e.unref(m))==null?void 0:G.toggleOverlay,class:e.normalizeClass(q.value),tabindex:"0",onClick:ie,onKeydown:re},[e.renderSlot(E.$slots,"button-icon")],42,Ba)),[[e.vShow,!e.unref(P)(E.hideNavigation,E.type)]]):e.createCommentVNode("",!0)],46,Da)}}}),Ta=["data-dp-mobile"],yt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(t){const n=t,l=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),a=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(r,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse}),"data-dp-mobile":r.isMobile},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(f,b)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:e.normalizeClass(a.value)},[e.renderSlot(r.$slots,"default",{instance:f,index:b})],2))),128))],10,Ta))}}),$a=["data-dp-element","aria-label","aria-disabled"],st=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const l=n,a=e.ref(null);return e.onMounted(()=>l("set-ref",a)),(r,c)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:a,type:"button","data-dp-element":r.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:c[0]||(c[0]=f=>r.$emit("activate")),onKeydown:c[1]||(c[1]=f=>e.unref(Ae)(f,()=>r.$emit("activate"),!0))},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[e.renderSlot(r.$slots,"default")],2)],40,$a))}}),Aa=["aria-label","data-test-id"],Bn=e.defineComponent({__name:"YearModePicker",props:{..._e,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const l=n,a=t,{showRightIcon:r,showLeftIcon:c}=kt(),{defaultedConfig:f,defaultedMultiCalendars:b,defaultedAriaLabels:m,defaultedTransitions:Y,defaultedUI:p}=ke(a),{showTransition:P,transitionName:g}=it(Y),$=e.ref(!1),H=(d=!1,A)=>{$.value=!$.value,l("toggle-year-picker",{flow:d,show:A})},O=d=>{$.value=!1,l("year-select",d)},U=(d=!1)=>{l("handle-year",d)};return(d,A)=>{var N,I,x,F,X;return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:e.normalizeClass(["dp--year-mode-picker",{"dp--hidden-el":$.value}])},[e.unref(c)(e.unref(b),t.instance)?(e.openBlock(),e.createBlock(st,{key:0,ref:"mpPrevIconRef","aria-label":(N=e.unref(m))==null?void 0:N.prevYear,disabled:t.isDisabled(!1),class:e.normalizeClass((I=e.unref(p))==null?void 0:I.navBtnPrev),onActivate:A[0]||(A[0]=B=>U(!1))},{default:e.withCtx(()=>[d.$slots["arrow-left"]?e.renderSlot(d.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),d.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${t.year}-${(x=e.unref(m))==null?void 0:x.openYearsOverlay}`,"data-test-id":`year-mode-btn-${t.instance}`,onClick:A[1]||(A[1]=()=>H(!1)),onKeydown:A[2]||(A[2]=e.withKeys(()=>H(!1),["enter"]))},[d.$slots.year?e.renderSlot(d.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),d.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Aa),e.unref(r)(e.unref(b),t.instance)?(e.openBlock(),e.createBlock(st,{key:1,ref:"mpNextIconRef","aria-label":(F=e.unref(m))==null?void 0:F.nextYear,disabled:t.isDisabled(!0),class:e.normalizeClass((X=e.unref(p))==null?void 0:X.navBtnNext),onActivate:A[3]||(A[3]=B=>U(!0))},{default:e.withCtx(()=>[d.$slots["arrow-right"]?e.renderSlot(d.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),d.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0)],2),e.createVNode(e.Transition,{name:e.unref(g)(t.showYearPicker),css:e.unref(P)},{default:e.withCtx(()=>{var B,q;return[t.showYearPicker?(e.openBlock(),e.createBlock(ot,{key:0,items:t.items,"text-input":d.textInput,"esc-close":d.escClose,config:d.config,"is-last":d.autoApply&&!e.unref(f).keepActionRow,"hide-navigation":d.hideNavigation,"aria-labels":d.ariaLabels,"overlay-label":(q=(B=e.unref(m))==null?void 0:B.yearPicker)==null?void 0:q.call(B,!0),type:"year",onToggle:H,onSelected:A[4]||(A[4]=R=>O(R))},e.createSlots({"button-icon":e.withCtx(()=>[d.$slots["calendar-icon"]?e.renderSlot(d.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),d.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ze),{key:1}))]),_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:R})=>[e.renderSlot(d.$slots,"year-overlay-value",{text:R.text,value:R.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64)}}}),jt=(t,n,l)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(a=>pe(t,a))){const a=n.value.filter(r=>!pe(r,t));n.value=a.length?a:null}else(l&&+l>n.value.length||!l)&&n.value.push(t);else n.value=[t]},Kt=(t,n,l)=>{let a=t.value?t.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?(be(n,a[0])?a.unshift(n):a[1]=n,l("range-end",n)):(a=[n],l("range-start",n)),a},ht=(t,n,l,a)=>{t&&(t[0]&&t[1]&&l&&n("auto-apply"),t[0]&&!t[1]&&a&&l&&n("auto-apply"))},Tn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Ne(W(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ne(W(t.value),t.timezone))},$n=(t,n,l,a)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(ve(t,n.value[0])||pe(t,n.value[0]))?[n.value[0],t]:a.value.fixedEnd&&(be(t,n.value[1])||pe(t,n.value[1]))?[t,n.value[1]]:(l("invalid-fixed-range",t),n.value):[],An=({multiCalendars:t,range:n,highlight:l,propDates:a,calendars:r,modelValue:c,props:f,filters:b,year:m,month:Y,emit:p})=>{const P=e.computed(()=>$t(f.yearRange,f.locale,f.reverseYears)),g=e.ref([!1]),$=e.computed(()=>(R,K)=>{const se=s.set(Ve(new Date),{month:Y.value(R),year:m.value(R)}),ie=K?s.endOfYear(se):s.startOfYear(se);return kn(ie,a.value.maxDate,a.value.minDate,f.preventMinMaxNavigation,K)}),H=()=>Array.isArray(c.value)&&t.value.solo&&c.value[1],O=()=>{for(let R=0;R<t.value.count;R++)if(R===0)r.value[R]=r.value[0];else if(R===t.value.count-1&&H())r.value[R]={month:s.getMonth(c.value[1]),year:s.getYear(c.value[1])};else{const K=s.set(W(),r.value[R-1]);r.value[R]={month:s.getMonth(K),year:s.getYear(s.addYears(K,1))}}},U=R=>{if(!R)return O();const K=s.set(W(),r.value[R]);return r.value[0].year=s.getYear(s.subYears(K,t.value.count-1)),O()},d=(R,K)=>{const se=s.differenceInYears(K,R);return n.value.showLastInRange&&se>1?K:R},A=R=>f.focusStartDate||t.value.solo?R[0]:R[1]?d(R[0],R[1]):R[0],N=()=>{if(c.value){const R=Array.isArray(c.value)?A(c.value):c.value;r.value[0]={month:s.getMonth(R),year:s.getYear(R)}}},I=()=>{N(),t.value.count&&O()};e.watch(c,(R,K)=>{f.isTextInputDate&&JSON.stringify(R??{})!==JSON.stringify(K??{})&&I()}),e.onMounted(()=>{I()});const x=(R,K)=>{r.value[K].year=R,p("update-month-year",{instance:K,year:R,month:r.value[K].month}),t.value.count&&!t.value.solo&&U(K)},F=e.computed(()=>R=>Fe(P.value,K=>{var V;const se=m.value(R)===K.value,ie=rt(K.value,et(a.value.minDate),et(a.value.maxDate))||((V=b.value.years)==null?void 0:V.includes(m.value(R))),y=It(l.value,K.value);return{active:se,disabled:ie,highlighted:y}})),X=(R,K)=>{x(R,K),q(K)},B=(R,K=!1)=>{if(!$.value(R,K)){const se=K?m.value(R)+1:m.value(R)-1;x(se,R)}},q=(R,K=!1,se)=>{K||p("reset-flow"),se!==void 0?g.value[R]=se:g.value[R]=!g.value[R],g.value[R]?p("overlay-toggle",{open:!0,overlay:Be.year}):(p("overlay-closed"),p("overlay-toggle",{open:!1,overlay:Be.year}))};return{isDisabled:$,groupedYears:F,showYearPicker:g,selectYear:x,toggleYearPicker:q,handleYearSelect:X,handleYear:B}},Pa=(t,n)=>{const{defaultedMultiCalendars:l,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:c,defaultedRange:f,defaultedHighlight:b,propDates:m,defaultedTz:Y,defaultedFilters:p,defaultedMultiDates:P}=ke(t),g=()=>{t.isTextInputDate&&I(s.getYear(W(t.startDate)),0)},{modelValue:$,year:H,month:O,calendars:U}=ut(t,n,g),d=e.computed(()=>ln(t.formatLocale,t.locale,t.monthNameFormat)),A=e.ref(null),{checkMinMaxRange:N}=Ge(t),{selectYear:I,groupedYears:x,showYearPicker:F,toggleYearPicker:X,handleYearSelect:B,handleYear:q,isDisabled:R}=An({modelValue:$,multiCalendars:l,range:f,highlight:b,calendars:U,year:H,propDates:m,month:O,filters:p,props:t,emit:n});e.onMounted(()=>{t.startDate&&($.value&&t.focusStartDate||!$.value)&&I(s.getYear(W(t.startDate)),0)});const K=w=>w?{month:s.getMonth(w),year:s.getYear(w)}:{month:null,year:null},se=()=>$.value?Array.isArray($.value)?$.value.map(w=>K(w)):K($.value):K(),ie=(w,_)=>{const u=U.value[w],J=se();return Array.isArray(J)?J.some(ce=>ce.year===(u==null?void 0:u.year)&&ce.month===_):(u==null?void 0:u.year)===J.year&&_===J.month},y=(w,_,u)=>{var ce,T;const J=se();return Array.isArray(J)?H.value(_)===((ce=J[u])==null?void 0:ce.year)&&w===((T=J[u])==null?void 0:T.month):!1},V=(w,_)=>{if(f.value.enabled){const u=se();if(Array.isArray($.value)&&Array.isArray(u)){const J=y(w,_,0)||y(w,_,1),ce=Ue(Ve(W()),w,H.value(_));return ft($.value,A.value,ce)&&!J}return!1}return!1},Z=e.computed(()=>w=>Fe(d.value,_=>{var fe;const u=ie(w,_.value),J=rt(_.value,pn(H.value(w),m.value.minDate),gn(H.value(w),m.value.maxDate))||Fn(m.value.disabledDates,H.value(w)).includes(_.value)||((fe=p.value.months)==null?void 0:fe.includes(_.value))||!ea(m.value.allowedDates,H.value(w),_.value),ce=V(_.value,w),T=wn(b.value,_.value,H.value(w));return{active:u,disabled:J,isBetween:ce,highlighted:T}})),h=(w,_)=>Ue(Ve(W()),w,H.value(_)),j=(w,_)=>{const u=$.value?$.value:Ve(new Date);$.value=Ue(u,w,H.value(_)),n("auto-apply"),n("update-flow-step")},C=(w,_)=>{const u=h(w,_);f.value.fixedEnd||f.value.fixedStart?$.value=$n(u,$,n,f):$.value?N(u,$.value)&&($.value=Kt($,h(w,_),n)):$.value=[h(w,_)],e.nextTick().then(()=>{ht($.value,n,t.autoApply,t.modelAuto)})},k=(w,_)=>{jt(h(w,_),$,P.value.limit),n("auto-apply",!0)},re=(w,_)=>(U.value[_].month=w,D(_,U.value[_].year,w),P.value.enabled?k(w,_):f.value.enabled?C(w,_):j(w,_)),E=(w,_)=>{I(w,_),D(_,w,null)},D=(w,_,u)=>{let J=u;if(!J&&J!==0){const ce=se();J=Array.isArray(ce)?ce[w].month:ce.month}n("update-month-year",{instance:w,year:_,month:J})};return{groupedMonths:Z,groupedYears:x,year:H,isDisabled:R,defaultedMultiCalendars:l,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:c,showYearPicker:F,modelValue:$,presetDate:(w,_)=>{Tn({value:w,modelValue:$,range:f.value.enabled,timezone:_?void 0:Y.value.timezone}),n("auto-apply")},setHoverDate:(w,_)=>{A.value=h(w,_)},selectMonth:re,selectYear:E,toggleYearPicker:X,handleYearSelect:B,handleYear:q,getModelMonthYear:se}},Ra=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{..._e},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=e.useSlots(),c=Ee(r,"yearMode"),f=t;e.onMounted(()=>{f.shadow||a("mount",null)});const{groupedMonths:b,groupedYears:m,year:Y,isDisabled:p,defaultedMultiCalendars:P,defaultedConfig:g,showYearPicker:$,modelValue:H,presetDate:O,setHoverDate:U,selectMonth:d,selectYear:A,toggleYearPicker:N,handleYearSelect:I,handleYear:x,getModelMonthYear:F}=Pa(f,a);return n({getSidebarProps:()=>({modelValue:H,year:Y,getModelMonthYear:F,selectMonth:d,selectYear:A,handleYear:x}),presetDate:O,toggleYearPicker:B=>N(0,B)}),(B,q)=>(e.openBlock(),e.createBlock(yt,{"multi-calendars":e.unref(P).count,collapse:B.collapse,stretch:"","is-mobile":B.isMobile},{default:e.withCtx(({instance:R})=>[B.$slots["top-extra"]?e.renderSlot(B.$slots,"top-extra",{key:0,value:B.internalModelValue}):e.createCommentVNode("",!0),B.$slots["month-year"]?e.renderSlot(B.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(Y),months:e.unref(b)(R),years:e.unref(m)(R),selectMonth:e.unref(d),selectYear:e.unref(A),instance:R}))):(e.openBlock(),e.createBlock(ot,{key:2,items:e.unref(b)(R),"arrow-navigation":B.arrowNavigation,"is-last":B.autoApply&&!e.unref(g).keepActionRow,"esc-close":B.escClose,height:e.unref(g).modeHeight,config:B.config,"no-overlay-focus":!!(B.noOverlayFocus||B.textInput),"use-relative":"",type:"month",onSelected:K=>e.unref(d)(K,R),onHoverValue:K=>e.unref(U)(K,R)},e.createSlots({header:e.withCtx(()=>[e.createVNode(Bn,e.mergeProps(B.$props,{items:e.unref(m)(R),instance:R,"show-year-picker":e.unref($)[R],year:e.unref(Y)(R),"is-disabled":K=>e.unref(p)(R,K),onHandleYear:K=>e.unref(x)(R,K),onYearSelect:K=>e.unref(I)(K,R),onToggleYearPicker:K=>e.unref(N)(R,K==null?void 0:K.flow,K==null?void 0:K.show)}),e.createSlots({_:2},[e.renderList(e.unref(c),(K,se)=>({name:K,fn:e.withCtx(ie=>[e.renderSlot(B.$slots,K,e.normalizeProps(e.guardReactiveProps(ie)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[B.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:K})=>[e.renderSlot(B.$slots,"month-overlay-value",{text:K.text,value:K.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),Na=(t,n)=>{const l=()=>{t.isTextInputDate&&(p.value=s.getYear(W(t.startDate)))},{modelValue:a}=ut(t,n,l),r=e.ref(null),{defaultedHighlight:c,defaultedMultiDates:f,defaultedFilters:b,defaultedRange:m,propDates:Y}=ke(t),p=e.ref();e.onMounted(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&(p.value=s.getYear(W(t.startDate)))});const P=d=>Array.isArray(a.value)?a.value.some(A=>s.getYear(A)===d):a.value?s.getYear(a.value)===d:!1,g=d=>m.value.enabled&&Array.isArray(a.value)?ft(a.value,r.value,H(d)):!1,$=e.computed(()=>Fe($t(t.yearRange,t.locale,t.reverseYears),d=>{const A=P(d.value),N=rt(d.value,et(Y.value.minDate),et(Y.value.maxDate))||b.value.years.includes(d.value),I=g(d.value)&&!A,x=It(c.value,d.value);return{active:A,disabled:N,isBetween:I,highlighted:x}})),H=d=>s.setYear(Ve(s.startOfYear(new Date)),d);return{groupedYears:$,modelValue:a,focusYear:p,setHoverValue:d=>{r.value=s.setYear(Ve(new Date),d)},selectYear:d=>{var A;if(n("update-month-year",{instance:0,year:d}),f.value.enabled)return a.value?Array.isArray(a.value)&&(((A=a.value)==null?void 0:A.map(I=>s.getYear(I))).includes(d)?a.value=a.value.filter(I=>s.getYear(I)!==d):a.value.push(s.setYear(Pe(W()),d))):a.value=[s.setYear(Pe(s.startOfYear(W())),d)],n("auto-apply",!0);m.value.enabled?(a.value=Kt(a,H(d),n),e.nextTick().then(()=>{ht(a.value,n,t.autoApply,t.modelAuto)})):(a.value=H(d),n("auto-apply"))}}},Ea=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{..._e},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:l}){const a=l,r=t,{groupedYears:c,modelValue:f,focusYear:b,selectYear:m,setHoverValue:Y}=Na(r,a),{defaultedConfig:p}=ke(r);return n({getSidebarProps:()=>({modelValue:f,selectYear:m})}),(g,$)=>(e.openBlock(),e.createElementBlock("div",null,[g.$slots["top-extra"]?e.renderSlot(g.$slots,"top-extra",{key:0,value:g.internalModelValue}):e.createCommentVNode("",!0),g.$slots["month-year"]?e.renderSlot(g.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(c),selectYear:e.unref(m)}))):(e.openBlock(),e.createBlock(ot,{key:2,items:e.unref(c),"is-last":g.autoApply&&!e.unref(p).keepActionRow,height:e.unref(p).modeHeight,config:g.config,"no-overlay-focus":!!(g.noOverlayFocus||g.textInput),"focus-value":e.unref(b),type:"year","use-relative":"",onSelected:e.unref(m),onHoverValue:e.unref(Y)},e.createSlots({_:2},[g.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:H})=>[e.renderSlot(g.$slots,"year-overlay-value",{text:H.text,value:H.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Oa={key:0,class:"dp__time_input"},Ya=["data-compact","data-collapsed"],Va=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],_a=["aria-label","disabled","data-test-id","onKeydown","onClick"],Ia=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],za={key:0},La=["aria-label","data-compact"],Ha=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},..._e},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:n,emit:l}){const a=l,r=t,{setTimePickerElements:c,setTimePickerBackRef:f}=xe(),{defaultedAriaLabels:b,defaultedTransitions:m,defaultedFilters:Y,defaultedConfig:p,defaultedRange:P,defaultedMultiCalendars:g}=ke(r),{transitionName:$,showTransition:H}=it(m),O=e.reactive({hours:!1,minutes:!1,seconds:!1}),U=e.ref("AM"),d=e.ref(null),A=e.ref([]),N=e.ref(),I=e.ref(!1);e.onMounted(()=>{a("mounted")});const x=o=>s.set(new Date,{hours:o.hours,minutes:o.minutes,seconds:r.enableSeconds?o.seconds:0,milliseconds:0}),F=e.computed(()=>o=>C(o,r[o])||B(o,r[o])),X=e.computed(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),B=(o,ee)=>P.value.enabled&&!P.value.disableTimeRangeValidation?!r.validateTime(o,ee):!1,q=(o,ee)=>{if(P.value.enabled&&!P.value.disableTimeRangeValidation){const le=ee?+r[`${o}Increment`]:-+r[`${o}Increment`],te=r[o]+le;return!r.validateTime(o,te)}return!1},R=e.computed(()=>o=>!G(+r[o]+ +r[`${o}Increment`],o)||q(o,!0)),K=e.computed(()=>o=>!G(+r[o]-+r[`${o}Increment`],o)||q(o,!1)),se=(o,ee)=>s.add(s.set(W(),o),ee),ie=(o,ee)=>s.sub(s.set(W(),o),ee),y=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),V=e.computed(()=>r.timePickerInline&&P.value.enabled&&!g.value.count),Z=e.computed(()=>{const o=[{type:"hours"}];return r.enableMinutes&&o.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&o.push({type:"",separator:!0},{type:"seconds"}),o}),h=e.computed(()=>Z.value.filter(o=>!o.separator)),j=e.computed(()=>o=>{if(o==="hours"){const ee=ce(+r.hours);return{text:ee<10?`0${ee}`:`${ee}`,value:ee}}return{text:r[o]<10?`0${r[o]}`:`${r[o]}`,value:r[o]}}),C=(o,ee)=>{var te;if(!r.disabledTimesConfig)return!1;const le=r.disabledTimesConfig(r.order,o==="hours"?ee:void 0);return le[o]?!!((te=le[o])!=null&&te.includes(ee)):!0},k=(o,ee)=>ee!=="hours"||U.value==="AM"?o:o+12,re=o=>{const ee=r.is24?24:12,le=o==="hours"?ee:60,te=+r[`${o}GridIncrement`],ge=o==="hours"&&!r.is24?te:0,me=[];for(let M=ge;M<le;M+=te)me.push({value:r.is24?M:k(M,o),text:M<10?`0${M}`:`${M}`});return o==="hours"&&!r.is24&&me.unshift({value:U.value==="PM"?12:0,text:"12"}),Fe(me,M=>({active:!1,disabled:Y.value.times[o].includes(M.value)||!G(M.value,o)||C(o,M.value)||B(o,M.value)}))},E=o=>o>=0?o:59,D=o=>o>=0?o:23,G=(o,ee)=>{const le=r.minTime?x(Et(r.minTime)):null,te=r.maxTime?x(Et(r.maxTime)):null,ge=x(Et(X.value,ee,ee==="minutes"||ee==="seconds"?E(o):D(o)));return le&&te?(s.isBefore(ge,te)||s.isEqual(ge,te))&&(s.isAfter(ge,le)||s.isEqual(ge,le)):le?s.isAfter(ge,le)||s.isEqual(ge,le):te?s.isBefore(ge,te)||s.isEqual(ge,te):!0},i=o=>r[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],w=o=>{i(o)||(O[o]=!O[o],O[o]?(I.value=!0,a("overlay-opened",o)):(I.value=!1,a("overlay-closed",o)))},_=o=>o==="hours"?s.getHours:o==="minutes"?s.getMinutes:s.getSeconds,u=()=>{N.value&&clearTimeout(N.value)},J=(o,ee=!0,le)=>{const te=ee?se:ie,ge=ee?+r[`${o}Increment`]:-+r[`${o}Increment`];G(+r[o]+ge,o)&&a(`update:${o}`,_(o)(te({[o]:+r[o]},{[o]:+r[`${o}Increment`]}))),!(le!=null&&le.keyboard)&&p.value.timeArrowHoldThreshold&&(N.value=setTimeout(()=>{J(o,ee)},p.value.timeArrowHoldThreshold))},ce=o=>r.is24?o:(o>=12?U.value="PM":U.value="AM",Hn(o)),T=()=>{U.value==="PM"?(U.value="AM",a("update:hours",r.hours-12)):(U.value="PM",a("update:hours",r.hours+12)),a("am-pm-change",U.value)},fe=o=>{O[o]=!0},z=(o,ee,le)=>{if(o&&r.arrowNavigation){Array.isArray(A.value[ee])?A.value[ee][le]=o:A.value[ee]=[o];const te=A.value.reduce((ge,me)=>me.map((M,L)=>[...ge[L]||[],me[L]]),[]);f(r.closeTimePickerBtn),d.value&&(te[1]=te[1].concat(d.value)),c(te,r.order)}},ae=(o,ee)=>(w(o),a(`update:${o}`,ee));return n({openChildCmp:fe}),(o,ee)=>{var le;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Oa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Z.value,(te,ge)=>{var me,M,L;return e.openBlock(),e.createElementBlock("div",{key:ge,class:e.normalizeClass(y.value),"data-compact":V.value&&!o.enableSeconds,"data-collapsed":V.value&&o.enableSeconds},[te.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[I.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(":")],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:de=>z(de,ge,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_top:o.timePickerInline,dp__inc_dec_button_disabled:R.value(te.type),"dp--hidden-el":I.value}),"data-test-id":`${te.type}-time-inc-btn-${r.order}`,"aria-label":(me=e.unref(b))==null?void 0:me.incrementValue(te.type),tabindex:"0",onKeydown:de=>e.unref(Ae)(de,()=>J(te.type,!0,{keyboard:!0}),!0),onClick:de=>e.unref(p).timeArrowHoldThreshold?void 0:J(te.type,!0),onMousedown:de=>e.unref(p).timeArrowHoldThreshold?J(te.type,!0):void 0,onMouseup:u},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[o.$slots["tp-inline-arrow-up"]?e.renderSlot(o.$slots,"tp-inline-arrow-up",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[ee[2]||(ee[2]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ee[3]||(ee[3]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))],64))],42,Va),e.createElementVNode("button",{ref_for:!0,ref:de=>z(de,ge,1),type:"button","aria-label":`${j.value(te.type).text}-${(M=e.unref(b))==null?void 0:M.openTpOverlay(te.type)}`,class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!o.timePickerInline,dp__time_display_inline:o.timePickerInline,"dp--time-invalid":F.value(te.type),"dp--time-overlay-btn":!F.value(te.type),"dp--hidden-el":I.value}),disabled:i(te.type),tabindex:"0","data-test-id":`${te.type}-toggle-overlay-btn-${r.order}`,onKeydown:de=>e.unref(Ae)(de,()=>w(te.type),!0),onClick:de=>w(te.type)},[o.$slots[te.type]?e.renderSlot(o.$slots,te.type,{key:0,text:j.value(te.type).text,value:j.value(te.type).value}):e.createCommentVNode("",!0),o.$slots[te.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(j.value(te.type).text),1)],64))],42,_a),e.createElementVNode("button",{ref_for:!0,ref:de=>z(de,ge,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_bottom:o.timePickerInline,dp__inc_dec_button_disabled:K.value(te.type),"dp--hidden-el":I.value}),"data-test-id":`${te.type}-time-dec-btn-${r.order}`,"aria-label":(L=e.unref(b))==null?void 0:L.decrementValue(te.type),tabindex:"0",onKeydown:de=>e.unref(Ae)(de,()=>J(te.type,!1,{keyboard:!0}),!0),onClick:de=>e.unref(p).timeArrowHoldThreshold?void 0:J(te.type,!1),onMousedown:de=>e.unref(p).timeArrowHoldThreshold?J(te.type,!1):void 0,onMouseup:u},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[o.$slots["tp-inline-arrow-down"]?e.renderSlot(o.$slots,"tp-inline-arrow-down",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[ee[4]||(ee[4]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ee[5]||(ee[5]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],64))],42,Ia)],64))],10,Ya)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",za,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:T,value:U.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:d,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(le=e.unref(b))==null?void 0:le.amPmButton,tabindex:"0","data-compact":V.value,onClick:T,onKeydown:ee[0]||(ee[0]=te=>e.unref(Ae)(te,()=>T(),!0))},e.toDisplayString(U.value),41,La))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(te,ge)=>(e.openBlock(),e.createBlock(e.Transition,{key:ge,name:e.unref($)(O[te.type]),css:e.unref(H)},{default:e.withCtx(()=>{var me,M;return[O[te.type]?(e.openBlock(),e.createBlock(ot,{key:0,items:re(te.type),"is-last":o.autoApply&&!e.unref(p).keepActionRow,"esc-close":o.escClose,type:te.type,"text-input":o.textInput,config:o.config,"arrow-navigation":o.arrowNavigation,"aria-labels":o.ariaLabels,"overlay-label":(M=(me=e.unref(b)).timeOverlay)==null?void 0:M.call(me,te.type),onSelected:L=>ae(te.type,L),onToggle:L=>w(te.type),onResetFlow:ee[1]||(ee[1]=L=>o.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o.timePickerInline?e.unref(Ze):e.unref(Dt)),{key:1}))]),_:2},[o.$slots[`${te.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:L})=>[e.renderSlot(o.$slots,`${te.type}-overlay-value`,{text:L.text,value:L.value})]),key:"0"}:void 0,o.$slots[`${te.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(o.$slots,`${te.type}-overlay-header`,{toggle:()=>w(te.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),Ua=["data-dp-mobile"],Wa=["aria-label","tabindex"],ja=["role","aria-label","tabindex"],Ka=["aria-label"],Pn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},..._e},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:l}){const a=l,r=t,{buildMatrix:c,setTimePicker:f}=xe(),b=e.useSlots(),{defaultedTransitions:m,defaultedAriaLabels:Y,defaultedTextInput:p,defaultedConfig:P,defaultedRange:g}=ke(r),{transitionName:$,showTransition:H}=it(m),{hideNavigationButtons:O}=kt(),U=e.ref(null),d=e.ref(null),A=e.ref([]),N=e.ref(null),I=e.ref(!1);e.onMounted(()=>{a("mount"),!r.timePicker&&r.arrowNavigation?c([Se(U.value)],"time"):f(!0,r.timePicker)});const x=e.computed(()=>g.value.enabled&&r.modelAuto?on(r.internalModelValue):!0),F=e.ref(!1),X=C=>({hours:Array.isArray(r.hours)?r.hours[C]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[C]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[C]:r.seconds}),B=e.computed(()=>{const C=[];if(g.value.enabled)for(let k=0;k<2;k++)C.push(X(k));else C.push(X(0));return C}),q=(C,k=!1,re="")=>{k||a("reset-flow"),F.value=C,a(C?"overlay-opened":"overlay-closed",Be.time),r.arrowNavigation&&f(C),e.nextTick(()=>{re!==""&&A.value[0]&&A.value[0].openChildCmp(re)})},R=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!P.value.keepActionRow})),K=Ee(b,"timePicker"),se=(C,k,re)=>g.value.enabled?k===0?[C,B.value[1][re]]:[B.value[0][re],C]:C,ie=C=>{a("update:hours",C)},y=C=>{a("update:minutes",C)},V=C=>{a("update:seconds",C)},Z=()=>{if(N.value&&!p.value.enabled&&!r.noOverlayFocus){const C=cn(N.value);C&&C.focus({preventScroll:!0})}},h=C=>{I.value=!1,a("overlay-closed",C)},j=C=>{I.value=!0,a("overlay-opened",C)};return n({toggleTimePicker:q}),(C,k)=>{var re;return e.openBlock(),e.createElementBlock("div",{class:"dp--tp-wrap","data-dp-mobile":C.isMobile},[!C.timePicker&&!C.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:U,type:"button",class:e.normalizeClass({...R.value,"dp--hidden-el":F.value}),"aria-label":(re=e.unref(Y))==null?void 0:re.openTimePicker,tabindex:C.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:k[0]||(k[0]=E=>e.unref(Ae)(E,()=>q(!0))),onClick:k[1]||(k[1]=E=>q(!0))},[C.$slots["clock-icon"]?e.renderSlot(C.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),C.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],42,Wa)),[[e.vShow,!e.unref(O)(C.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref($)(F.value),css:e.unref(H)&&!C.timePickerInline},{default:e.withCtx(()=>{var E,D;return[F.value||C.timePicker||C.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:N,role:C.timePickerInline?void 0:"dialog",class:e.normalizeClass({dp__overlay:!C.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!C.timePickerInline,"dp--overlay-relative":r.timePicker}),style:e.normalizeStyle(C.timePicker?{height:`${e.unref(P).modeHeight}px`}:void 0),"aria-label":(E=e.unref(Y))==null?void 0:E.timePicker,tabindex:C.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(C.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[C.$slots["time-picker-overlay"]?e.renderSlot(C.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:ie,setMinutes:y,setSeconds:V}):e.createCommentVNode("",!0),C.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(C.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.value,(G,i)=>e.withDirectives((e.openBlock(),e.createBlock(Ha,e.mergeProps({key:i,ref_for:!0},{...C.$props,order:i,hours:G.hours,minutes:G.minutes,seconds:G.seconds,closeTimePickerBtn:d.value,disabledTimesConfig:t.disabledTimesConfig,disabled:i===0?e.unref(g).fixedStart:e.unref(g).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:A,"validate-time":(w,_)=>t.validateTime(w,se(_,i,w)),"onUpdate:hours":w=>ie(se(w,i,"hours")),"onUpdate:minutes":w=>y(se(w,i,"minutes")),"onUpdate:seconds":w=>V(se(w,i,"seconds")),onMounted:Z,onOverlayClosed:h,onOverlayOpened:j,onAmPmChange:k[2]||(k[2]=w=>C.$emit("am-pm-change",w))}),e.createSlots({_:2},[e.renderList(e.unref(K),(w,_)=>({name:w,fn:e.withCtx(u=>[e.renderSlot(C.$slots,w,e.mergeProps({ref_for:!0},u))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,i===0?!0:x.value]])),128))],2)),!C.timePicker&&!C.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:d,type:"button",class:e.normalizeClass({...R.value,"dp--hidden-el":I.value}),"aria-label":(D=e.unref(Y))==null?void 0:D.closeTimePicker,tabindex:"0",onKeydown:k[3]||(k[3]=G=>e.unref(Ae)(G,()=>q(!1))),onClick:k[4]||(k[4]=G=>q(!1))},[C.$slots["calendar-icon"]?e.renderSlot(C.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),C.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ze),{key:1}))],42,Ka)),[[e.vShow,!e.unref(O)(C.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,ja)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],8,Ua)}}}),Rn=(t,n,l,a)=>{const{defaultedRange:r}=ke(t),c=(N,I)=>Array.isArray(n[N])?n[N][I]:n[N],f=N=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[N]:n.seconds:0,b=(N,I)=>N?I!==void 0?je(N,c("hours",I),c("minutes",I),f(I)):je(N,n.hours,n.minutes,f()):s.setSeconds(W(),f(I)),m=(N,I)=>{n[N]=I},Y=e.computed(()=>t.modelAuto&&r.value.enabled?Array.isArray(l.value)?l.value.length>1:!1:r.value.enabled),p=(N,I)=>{const x=Object.fromEntries(Object.keys(n).map(F=>F===N?[F,I]:[F,n[F]].slice()));if(Y.value&&!r.value.disableTimeRangeValidation){const F=B=>l.value?je(l.value[B],x.hours[B],x.minutes[B],x.seconds[B]):null,X=B=>s.setMilliseconds(l.value[B],0);return!(pe(F(0),F(1))&&(s.isAfter(F(0),X(1))||s.isBefore(F(1),X(0))))}return!0},P=(N,I)=>{p(N,I)&&(m(N,I),a&&a())},g=N=>{P("hours",N)},$=N=>{P("minutes",N)},H=N=>{P("seconds",N)},O=(N,I,x,F)=>{I&&g(N),!I&&!x&&$(N),x&&H(N),l.value&&F(l.value)},U=N=>{if(N){const I=Array.isArray(N),x=I?[+N[0].hours,+N[1].hours]:+N.hours,F=I?[+N[0].minutes,+N[1].minutes]:+N.minutes,X=I?[+N[0].seconds,+N[1].seconds]:+N.seconds;m("hours",x),m("minutes",F),t.enableSeconds&&m("seconds",X)}},d=(N,I)=>{const x={hours:Array.isArray(n.hours)?n.hours[N]:n.hours,disabledArr:[]};return(I||I===0)&&(x.hours=I),Array.isArray(t.disabledTimes)&&(x.disabledArr=r.value.enabled&&Array.isArray(t.disabledTimes[N])?t.disabledTimes[N]:t.disabledTimes),x},A=e.computed(()=>(N,I)=>{var x;if(Array.isArray(t.disabledTimes)){const{disabledArr:F,hours:X}=d(N,I),B=F.filter(q=>+q.hours===X);return((x=B[0])==null?void 0:x.minutes)==="*"?{hours:[X],minutes:void 0,seconds:void 0}:{hours:[],minutes:(B==null?void 0:B.map(q=>+q.minutes))??[],seconds:(B==null?void 0:B.map(q=>q.seconds?+q.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:m,updateHours:g,updateMinutes:$,updateSeconds:H,getSetDateTime:b,updateTimeValues:O,getSecondsValue:f,assignStartTime:U,validateTime:p,disabledTimesConfig:A}},xa=(t,n)=>{const l=()=>{t.isTextInputDate&&I()},{modelValue:a,time:r}=ut(t,n,l),{defaultedStartTime:c,defaultedRange:f,defaultedTz:b}=ke(t),{updateTimeValues:m,getSetDateTime:Y,setTime:p,assignStartTime:P,disabledTimesConfig:g,validateTime:$}=Rn(t,r,a,H);function H(){n("update-flow-step")}const O=X=>{const{hours:B,minutes:q,seconds:R}=X;return{hours:+B,minutes:+q,seconds:R?+R:0}},U=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const B=O(t.startTime[0]),q=O(t.startTime[1]);return[s.set(W(),B),s.set(W(),q)]}const X=O(t.startTime);return s.set(W(),X)}return f.value.enabled?[null,null]:null},d=()=>{if(f.value.enabled){const[X,B]=U();a.value=[Ne(Y(X,0),b.value.timezone),Ne(Y(B,1),b.value.timezone)]}else a.value=Ne(Y(U()),b.value.timezone)},A=X=>Array.isArray(X)?[Xe(W(X[0])),Xe(W(X[1]))]:[Xe(X??W())],N=(X,B,q)=>{p("hours",X),p("minutes",B),p("seconds",t.enableSeconds?q:0)},I=()=>{const[X,B]=A(a.value);return f.value.enabled?N([X.hours,B.hours],[X.minutes,B.minutes],[X.seconds,B.seconds]):N(X.hours,X.minutes,X.seconds)};e.onMounted(()=>{if(!t.shadow)return P(c.value),a.value?I():d()});const x=()=>{Array.isArray(a.value)?a.value=a.value.map((X,B)=>X&&Y(X,B)):a.value=Y(a.value),n("time-update")};return{modelValue:a,time:r,disabledTimesConfig:g,updateTime:(X,B=!0,q=!1)=>{m(X,B,q,x)},validateTime:$}},qa=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{..._e},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),f=Ee(c,"timePicker"),b=e.ref(null),{time:m,modelValue:Y,disabledTimesConfig:p,updateTime:P,validateTime:g}=xa(r,a);return e.onMounted(()=>{r.shadow||a("mount",null)}),n({getSidebarProps:()=>({modelValue:Y,time:m,updateTime:P}),toggleTimePicker:(O,U=!1,d="")=>{var A;(A=b.value)==null||A.toggleTimePicker(O,U,d)}}),(O,U)=>(e.openBlock(),e.createBlock(yt,{"multi-calendars":0,stretch:"","is-mobile":O.isMobile},{default:e.withCtx(()=>[e.createVNode(Pn,e.mergeProps({ref_key:"tpRef",ref:b},O.$props,{hours:e.unref(m).hours,minutes:e.unref(m).minutes,seconds:e.unref(m).seconds,"internal-model-value":O.internalModelValue,"disabled-times-config":e.unref(p),"validate-time":e.unref(g),"onUpdate:hours":U[0]||(U[0]=d=>e.unref(P)(d)),"onUpdate:minutes":U[1]||(U[1]=d=>e.unref(P)(d,!1)),"onUpdate:seconds":U[2]||(U[2]=d=>e.unref(P)(d,!1,!0)),onAmPmChange:U[3]||(U[3]=d=>O.$emit("am-pm-change",d)),onResetFlow:U[4]||(U[4]=d=>O.$emit("reset-flow")),onOverlayClosed:U[5]||(U[5]=d=>O.$emit("overlay-toggle",{open:!1,overlay:d})),onOverlayOpened:U[6]||(U[6]=d=>O.$emit("overlay-toggle",{open:!0,overlay:d}))}),e.createSlots({_:2},[e.renderList(e.unref(f),(d,A)=>({name:d,fn:e.withCtx(N=>[e.renderSlot(O.$slots,d,e.normalizeProps(e.guardReactiveProps(N)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),Ga={class:"dp--header-wrap"},Qa={key:0,class:"dp__month_year_wrap"},Xa={key:0},Ja={class:"dp__month_year_wrap"},Za=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],Fa=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},..._e},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:n,emit:l}){const a=l,r=t,{defaultedTransitions:c,defaultedAriaLabels:f,defaultedMultiCalendars:b,defaultedFilters:m,defaultedConfig:Y,defaultedHighlight:p,propDates:P,defaultedUI:g}=ke(r),{transitionName:$,showTransition:H}=it(c),{buildMatrix:O}=xe(),{handleMonthYearChange:U,isDisabled:d,updateMonthYear:A}=ba(r,a),{showLeftIcon:N,showRightIcon:I}=kt(),x=e.ref(!1),F=e.ref(!1),X=e.ref(!1),B=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const q=D=>({get:()=>r[D],set:G=>{const i=D===Oe.month?Oe.year:Oe.month;a("update-month-year",{[D]:G,[i]:r[i]}),D===Oe.month?h(!0):j(!0)}}),R=e.computed(q(Oe.month)),K=e.computed(q(Oe.year)),se=e.computed(()=>D=>({month:r.month,year:r.year,items:D===Oe.month?r.months:r.years,instance:r.instance,updateMonthYear:A,toggle:D===Oe.month?h:j})),ie=e.computed(()=>{const D=r.months.find(G=>G.value===r.month);return D||{text:"",value:0}}),y=e.computed(()=>Fe(r.months,D=>{const G=r.month===D.value,i=rt(D.value,pn(r.year,P.value.minDate),gn(r.year,P.value.maxDate))||m.value.months.includes(D.value),w=wn(p.value,D.value,r.year);return{active:G,disabled:i,highlighted:w}})),V=e.computed(()=>Fe(r.years,D=>{const G=r.year===D.value,i=rt(D.value,et(P.value.minDate),et(P.value.maxDate))||m.value.years.includes(D.value),w=It(p.value,D.value);return{active:G,disabled:i,highlighted:w}})),Z=(D,G,i)=>{i!==void 0?D.value=i:D.value=!D.value,D.value?(X.value=!0,a("overlay-opened",G)):(X.value=!1,a("overlay-closed",G))},h=(D=!1,G)=>{C(D),Z(x,Be.month,G)},j=(D=!1,G)=>{C(D),Z(F,Be.year,G)},C=D=>{D||a("reset-flow")},k=(D,G)=>{r.arrowNavigation&&(B.value[G]=Se(D),O(B.value,"monthYear"))},re=e.computed(()=>{var D,G,i,w,_,u;return[{type:Oe.month,index:1,toggle:h,modelValue:R.value,updateModelValue:J=>R.value=J,text:ie.value.text,showSelectionGrid:x.value,items:y.value,ariaLabel:(D=f.value)==null?void 0:D.openMonthsOverlay,overlayLabel:((i=(G=f.value).monthPicker)==null?void 0:i.call(G,!0))??void 0},{type:Oe.year,index:2,toggle:j,modelValue:K.value,updateModelValue:J=>K.value=J,text:dn(r.year,r.locale),showSelectionGrid:F.value,items:V.value,ariaLabel:(w=f.value)==null?void 0:w.openYearsOverlay,overlayLabel:((u=(_=f.value).yearPicker)==null?void 0:u.call(_,!0))??void 0}]}),E=e.computed(()=>r.disableYearSelect?[re.value[0]]:r.yearFirst?[...re.value].reverse():re.value);return n({toggleMonthPicker:h,toggleYearPicker:j,handleMonthYearChange:U}),(D,G)=>{var i,w,_,u,J,ce;return e.openBlock(),e.createElementBlock("div",Ga,[D.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",Qa,[e.renderSlot(D.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(A),handleMonthYearChange:e.unref(U),instance:t.instance})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[D.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",Xa,[e.renderSlot(D.$slots,"top-extra",{value:D.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",Ja,[e.unref(N)(e.unref(b),t.instance)&&!D.vertical?(e.openBlock(),e.createBlock(st,{key:0,"aria-label":(i=e.unref(f))==null?void 0:i.prevMonth,disabled:e.unref(d)(!1),class:e.normalizeClass((w=e.unref(g))==null?void 0:w.navBtnPrev),"el-name":"action-prev",onActivate:G[0]||(G[0]=T=>e.unref(U)(!1,!0)),onSetRef:G[1]||(G[1]=T=>k(T,0))},{default:e.withCtx(()=>[D.$slots["arrow-left"]?e.renderSlot(D.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),D.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:D.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(E.value,(T,fe)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:T.type},[e.createElementVNode("button",{ref_for:!0,ref:z=>k(z,fe+1),type:"button","data-dp-element":`overlay-${T.type}`,class:e.normalizeClass(["dp__btn dp__month_year_select",{"dp--hidden-el":X.value}]),"aria-label":`${T.text}-${T.ariaLabel}`,"data-test-id":`${T.type}-toggle-overlay-${t.instance}`,onClick:T.toggle,onKeydown:z=>e.unref(Ae)(z,()=>T.toggle(),!0)},[D.$slots[T.type]?e.renderSlot(D.$slots,T.type,{key:0,text:T.text,value:r[T.type]}):e.createCommentVNode("",!0),D.$slots[T.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(T.text),1)],64))],42,Za),e.createVNode(e.Transition,{name:e.unref($)(T.showSelectionGrid),css:e.unref(H)},{default:e.withCtx(()=>[T.showSelectionGrid?(e.openBlock(),e.createBlock(ot,{key:0,items:T.items,"arrow-navigation":D.arrowNavigation,"hide-navigation":D.hideNavigation,"is-last":D.autoApply&&!e.unref(Y).keepActionRow,"skip-button-ref":!1,config:D.config,type:T.type,"header-refs":[],"esc-close":D.escClose,"menu-wrap-ref":D.menuWrapRef,"text-input":D.textInput,"aria-labels":D.ariaLabels,"overlay-label":T.overlayLabel,onSelected:T.updateModelValue,onToggle:T.toggle},e.createSlots({"button-icon":e.withCtx(()=>[D.$slots["calendar-icon"]?e.renderSlot(D.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),D.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ze),{key:1}))]),_:2},[D.$slots[`${T.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:z})=>[e.renderSlot(D.$slots,`${T.type}-overlay-value`,{text:z.text,value:z.value})]),key:"0"}:void 0,D.$slots[`${T.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(D.$slots,`${T.type}-overlay`,e.mergeProps({ref_for:!0},se.value(T.type)))]),key:"1"}:void 0,D.$slots[`${T.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(D.$slots,`${T.type}-overlay-header`,{toggle:T.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(N)(e.unref(b),t.instance)&&D.vertical?(e.openBlock(),e.createBlock(st,{key:1,"aria-label":(_=e.unref(f))==null?void 0:_.prevMonth,"el-name":"action-prev",disabled:e.unref(d)(!1),class:e.normalizeClass((u=e.unref(g))==null?void 0:u.navBtnPrev),onActivate:G[2]||(G[2]=T=>e.unref(U)(!1,!0))},{default:e.withCtx(()=>[D.$slots["arrow-up"]?e.renderSlot(D.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),D.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.unref(I)(e.unref(b),t.instance)?(e.openBlock(),e.createBlock(st,{key:2,ref:"rightIcon","el-name":"action-next",disabled:e.unref(d)(!0),"aria-label":(J=e.unref(f))==null?void 0:J.nextMonth,class:e.normalizeClass((ce=e.unref(g))==null?void 0:ce.navBtnNext),onActivate:G[3]||(G[3]=T=>e.unref(U)(!0,!0)),onSetRef:G[4]||(G[4]=T=>k(T,D.disableYearSelect?2:3))},{default:e.withCtx(()=>[D.$slots[D.vertical?"arrow-down":"arrow-right"]?e.renderSlot(D.$slots,D.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),D.$slots[D.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(D.vertical?e.unref(Ct):e.unref(Mt)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):e.createCommentVNode("",!0)])],64))])}}}),er={class:"dp__calendar_header",role:"row"},tr={key:0,class:"dp__calendar_header_item",role:"gridcell"},nr=["aria-label"],ar={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},rr={class:"dp__cell_inner"},lr=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],or=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},..._e},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:l}){const a=l,r=t,{buildMultiLevelMatrix:c}=xe(),{defaultedTransitions:f,defaultedConfig:b,defaultedAriaLabels:m,defaultedMultiCalendars:Y,defaultedWeekNumbers:p,defaultedMultiDates:P,defaultedUI:g}=ke(r),$=e.ref(null),H=e.ref({bottom:"",left:"",transform:""}),O=e.ref([]),U=e.ref(null),d=e.ref(!0),A=e.ref(""),N=e.ref({startX:0,endX:0,startY:0,endY:0}),I=e.ref([]),x=e.ref({left:"50%"}),F=e.ref(!1),X=e.computed(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),B=e.computed(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):Ln(r.formatLocale,r.locale,+r.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:O}),b.value.noSwipe||U.value&&(U.value.addEventListener("touchstart",k,{passive:!1}),U.value.addEventListener("touchend",re,{passive:!1}),U.value.addEventListener("touchmove",E,{passive:!1})),r.monthChangeOnScroll&&U.value&&U.value.addEventListener("wheel",i,{passive:!1})});const q=T=>T?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",R=(T,fe)=>{if(r.transitions){const z=Pe(Ue(W(),r.month,r.year));A.value=ve(Pe(Ue(W(),T,fe)),z)?f.value[q(!0)]:f.value[q(!1)],d.value=!1,e.nextTick(()=>{d.value=!0})}},K=e.computed(()=>({...g.value.calendar??{}})),se=e.computed(()=>T=>{const fe=Un(T);return{dp__marker_dot:fe.type==="dot",dp__marker_line:fe.type==="line"}}),ie=e.computed(()=>T=>pe(T,$.value)),y=e.computed(()=>({dp__calendar:!0,dp__calendar_next:Y.value.count>0&&r.instance!==0})),V=e.computed(()=>T=>r.hideOffsetDates?T.current:!0),Z=async(T,fe)=>{const{width:z,height:ae}=T.getBoundingClientRect();$.value=fe.value;let o={left:`${z/2}px`},ee=-50;if(await e.nextTick(),I.value[0]){const{left:le,width:te}=I.value[0].getBoundingClientRect();le<0&&(o={left:"0"},ee=0,x.value.left=`${z/2}px`),window.innerWidth<le+te&&(o={right:"0"},ee=0,x.value.left=`${te-z/2}px`)}H.value={bottom:`${ae}px`,...o,transform:`translateX(${ee}%)`}},h=async(T,fe,z)=>{var o,ee,le;const ae=Se(O.value[fe][z]);ae&&((o=T.marker)!=null&&o.customPosition&&((le=(ee=T.marker)==null?void 0:ee.tooltip)!=null&&le.length)?H.value=T.marker.customPosition(ae):await Z(ae,T),a("tooltip-open",T.marker))},j=async(T,fe,z)=>{var ae,o;if(F.value&&P.value.enabled&&P.value.dragSelect)return a("select-date",T);if(a("set-hover-date",T),(o=(ae=T.marker)==null?void 0:ae.tooltip)!=null&&o.length){if(r.hideOffsetDates&&!T.current)return;await h(T,fe,z)}},C=T=>{$.value&&($.value=null,H.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",T.marker))},k=T=>{N.value.startX=T.changedTouches[0].screenX,N.value.startY=T.changedTouches[0].screenY},re=T=>{N.value.endX=T.changedTouches[0].screenX,N.value.endY=T.changedTouches[0].screenY,D()},E=T=>{r.vertical&&!r.inline&&T.preventDefault()},D=()=>{const T=r.vertical?"Y":"X";Math.abs(N.value[`start${T}`]-N.value[`end${T}`])>10&&a("handle-swipe",N.value[`start${T}`]>N.value[`end${T}`]?"right":"left")},G=(T,fe,z)=>{T&&(Array.isArray(O.value[fe])?O.value[fe][z]=T:O.value[fe]=[T]),r.arrowNavigation&&c(O.value,"calendar")},i=T=>{r.monthChangeOnScroll&&(T.preventDefault(),a("handle-scroll",T))},w=T=>p.value.type==="local"?s.getWeek(T.value,{weekStartsOn:+r.weekStart}):p.value.type==="iso"?s.getISOWeek(T.value):typeof p.value.type=="function"?p.value.type(T.value):"",_=T=>{const fe=T[0];return p.value.hideOnOffsetDates?T.some(z=>z.current)?w(fe):"":w(fe)},u=(T,fe,z=!0)=>{z&&fn()||!z&&!fn()||(!P.value.enabled||b.value.allowPreventDefault)&&(We(T,b.value),a("select-date",fe))},J=T=>{We(T,b.value)},ce=T=>{P.value.enabled&&P.value.dragSelect?(F.value=!0,a("select-date",T)):P.value.enabled&&a("select-date",T)};return n({triggerTransition:R}),(T,fe)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(y.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:U,class:e.normalizeClass(K.value),role:"grid"},[e.createElementVNode("div",er,[T.weekNumbers?(e.openBlock(),e.createElementBlock("div",tr,e.toDisplayString(T.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.value,(z,ae)=>{var o,ee;return e.openBlock(),e.createElementBlock("div",{key:ae,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(ee=(o=e.unref(m))==null?void 0:o.weekDay)==null?void 0:ee.call(o,ae)},[T.$slots["calendar-header"]?e.renderSlot(T.$slots,"calendar-header",{key:0,day:z,index:ae}):e.createCommentVNode("",!0),T.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(z),1)],64))],8,nr)}),128))]),fe[2]||(fe[2]=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1)),e.createVNode(e.Transition,{name:A.value,css:!!T.transitions},{default:e.withCtx(()=>[d.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:fe[1]||(fe[1]=z=>F.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(X.value,(z,ae)=>(e.openBlock(),e.createElementBlock("div",{key:ae,class:"dp__calendar_row",role:"row"},[T.weekNumbers?(e.openBlock(),e.createElementBlock("div",ar,[e.createElementVNode("div",rr,e.toDisplayString(_(z.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(z.days,(o,ee)=>{var le,te,ge;return e.openBlock(),e.createElementBlock("div",{id:e.unref(Mn)(o.value),ref_for:!0,ref:me=>G(me,ae,ee),key:ee+ae,role:"gridcell",class:"dp__calendar_item","aria-pressed":(o.classData.dp__active_date||o.classData.dp__range_start||o.classData.dp__range_start)??void 0,"aria-disabled":o.classData.dp__cell_disabled||void 0,"aria-label":(te=(le=e.unref(m))==null?void 0:le.day)==null?void 0:te.call(le,o),tabindex:!o.current&&T.hideOffsetDates?void 0:0,"data-test-id":o.value,onClick:e.withModifiers(me=>u(me,o),["prevent"]),onTouchend:me=>u(me,o,!1),onKeydown:me=>e.unref(Ae)(me,()=>T.$emit("select-date",o)),onMouseenter:me=>j(o,ae,ee),onMouseleave:me=>C(o),onMousedown:me=>ce(o),onMouseup:fe[0]||(fe[0]=me=>F.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",o.classData])},[T.$slots.day&&V.value(o)?e.renderSlot(T.$slots,"day",{key:0,day:+o.text,date:o.value}):e.createCommentVNode("",!0),T.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.text),1)],64)),o.marker&&V.value(o)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[T.$slots.marker?e.renderSlot(T.$slots,"marker",{key:0,marker:o.marker,day:+o.text,date:o.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(se.value(o.marker)),style:e.normalizeStyle(o.marker.color?{backgroundColor:o.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),ie.value(o.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:I,class:"dp__marker_tooltip",style:e.normalizeStyle(H.value)},[(ge=o.marker)!=null&&ge.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:J},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.marker.tooltip,(me,M)=>(e.openBlock(),e.createElementBlock("div",{key:M,class:"dp__tooltip_text"},[T.$slots["marker-tooltip"]?e.renderSlot(T.$slots,"marker-tooltip",{key:0,tooltip:me,day:o.value}):e.createCommentVNode("",!0),T.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(me.color?{backgroundColor:me.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(me.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(x.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,lr)}),128))]))),128))],32)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2)],2))}}),Nn=t=>Array.isArray(t),sr=(t,n,l,a)=>{const r=e.ref([]),c=e.ref(new Date),f=e.ref(),b=()=>k(t.isTextInputDate),{modelValue:m,calendars:Y,time:p,today:P}=ut(t,n,b),{defaultedMultiCalendars:g,defaultedStartTime:$,defaultedRange:H,defaultedConfig:O,defaultedTz:U,propDates:d,defaultedMultiDates:A}=ke(t),{validateMonthYearInRange:N,isDisabled:I,isDateRangeAllowed:x,checkMinMaxRange:F}=Ge(t),{updateTimeValues:X,getSetDateTime:B,setTime:q,assignStartTime:R,validateTime:K,disabledTimesConfig:se}=Rn(t,p,m,a),ie=e.computed(()=>v=>Y.value[v]?Y.value[v].month:0),y=e.computed(()=>v=>Y.value[v]?Y.value[v].year:0),V=v=>!O.value.keepViewOnOffsetClick||v?!0:!f.value,Z=(v,ne,S,Q=!1)=>{var oe,Re;V(Q)&&(Y.value[v]||(Y.value[v]={month:0,year:0}),Y.value[v].month=un(ne)?(oe=Y.value[v])==null?void 0:oe.month:ne,Y.value[v].year=un(S)?(Re=Y.value[v])==null?void 0:Re.year:S)},h=()=>{t.autoApply&&n("select-date")};e.onMounted(()=>{t.shadow||(m.value||(T(),$.value&&R($.value)),k(!0),t.focusStartDate&&t.startDate&&T())});const j=e.computed(()=>{var v;return(v=t.flow)!=null&&v.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),C=()=>{t.autoApply&&j.value&&n("auto-apply",t.partialFlow?t.flowStep!==t.flow.length:!1)},k=(v=!1)=>{if(m.value)return Array.isArray(m.value)?(r.value=m.value,_(v)):D(m.value,v);if(g.value.count&&v&&!t.startDate)return E(W(),v)},re=()=>Array.isArray(m.value)&&H.value.enabled?s.getMonth(m.value[0])===s.getMonth(m.value[1]??m.value[0]):!1,E=(v=new Date,ne=!1)=>{if((!g.value.count||!g.value.static||ne)&&Z(0,s.getMonth(v),s.getYear(v)),g.value.count&&(!m.value||re()||!g.value.solo)&&(!g.value.solo||ne))for(let S=1;S<g.value.count;S++){const Q=s.set(W(),{month:ie.value(S-1),year:y.value(S-1)}),oe=s.add(Q,{months:1});Y.value[S]={month:s.getMonth(oe),year:s.getYear(oe)}}},D=(v,ne)=>{E(v),q("hours",s.getHours(v)),q("minutes",s.getMinutes(v)),q("seconds",s.getSeconds(v)),g.value.count&&ne&&ce()},G=v=>{if(g.value.count){if(g.value.solo)return 0;const ne=s.getMonth(v[0]),S=s.getMonth(v[1]);return Math.abs(S-ne)<g.value.count?0:1}return 1},i=(v,ne)=>{v[1]&&H.value.showLastInRange?E(v[G(v)],ne):E(v[0],ne);const S=(Q,oe)=>[Q(v[0]),v[1]?Q(v[1]):p[oe][1]];q("hours",S(s.getHours,"hours")),q("minutes",S(s.getMinutes,"minutes")),q("seconds",S(s.getSeconds,"seconds"))},w=(v,ne)=>{if((H.value.enabled||t.weekPicker)&&!A.value.enabled)return i(v,ne);if(A.value.enabled&&ne){const S=v[v.length-1];return D(S,ne)}},_=v=>{const ne=m.value;w(ne,v),g.value.count&&g.value.solo&&ce()},u=(v,ne)=>{const S=s.set(W(),{month:ie.value(ne),year:y.value(ne)}),Q=v<0?s.addMonths(S,1):s.subMonths(S,1);N(s.getMonth(Q),s.getYear(Q),v<0,t.preventMinMaxNavigation)&&(Z(ne,s.getMonth(Q),s.getYear(Q)),n("update-month-year",{instance:ne,month:s.getMonth(Q),year:s.getYear(Q)}),g.value.count&&!g.value.solo&&J(ne),l())},J=v=>{for(let ne=v-1;ne>=0;ne--){const S=s.subMonths(s.set(W(),{month:ie.value(ne+1),year:y.value(ne+1)}),1);Z(ne,s.getMonth(S),s.getYear(S))}for(let ne=v+1;ne<=g.value.count-1;ne++){const S=s.addMonths(s.set(W(),{month:ie.value(ne-1),year:y.value(ne-1)}),1);Z(ne,s.getMonth(S),s.getYear(S))}},ce=()=>{if(Array.isArray(m.value)&&m.value.length===2){const v=W(W(m.value[1]?m.value[1]:s.addMonths(m.value[0],1))),[ne,S]=[s.getMonth(m.value[0]),s.getYear(m.value[0])],[Q,oe]=[s.getMonth(m.value[1]),s.getYear(m.value[1])];(ne!==Q||ne===Q&&S!==oe)&&g.value.solo&&Z(1,s.getMonth(v),s.getYear(v))}else m.value&&!Array.isArray(m.value)&&(Z(0,s.getMonth(m.value),s.getYear(m.value)),E(W()))},T=()=>{t.startDate&&(Z(0,s.getMonth(W(t.startDate)),s.getYear(W(t.startDate))),g.value.count&&J(0))},fe=(v,ne)=>{if(t.monthChangeOnScroll){const S=new Date().getTime()-c.value.getTime(),Q=Math.abs(v.deltaY);let oe=500;Q>1&&(oe=100),Q>100&&(oe=0),S>oe&&(c.value=new Date,u(t.monthChangeOnScroll!=="inverse"?-v.deltaY:v.deltaY,ne))}},z=(v,ne,S=!1)=>{t.monthChangeOnArrows&&t.vertical===S&&ae(v,ne)},ae=(v,ne)=>{u(v==="right"?-1:1,ne)},o=v=>{if(d.value.markers)return dt(v.value,d.value.markers)},ee=(v,ne)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[v==0,!0];case"fair":return[v==0||ne>v,!0];case"append":return[!1,!1];default:return[!1,!1]}},le=(v,ne,S,Q)=>{if(t.sixWeeks&&v.length<6){const oe=6-v.length,Re=(ne.getDay()+7-Q)%7,at=6-(S.getDay()+7-Q)%7,[ct,tn]=ee(Re,at);for(let Je=1;Je<=oe;Je++)if(tn?!!(Je%2)==ct:ct){const vt=v[0].days[0],nn=te(s.addDays(vt.value,-7),s.getMonth(ne));v.unshift({days:nn})}else{const vt=v[v.length-1],nn=vt.days[vt.days.length-1],zr=te(s.addDays(nn.value,1),s.getMonth(ne));v.push({days:zr})}}return v},te=(v,ne)=>{const S=W(v),Q=[];for(let oe=0;oe<7;oe++){const Re=s.addDays(S,oe),Ie=s.getMonth(Re)!==ne;Q.push({text:t.hideOffsetDates&&Ie?"":Re.getDate(),value:Re,current:!Ie,classData:{}})}return Q},ge=(v,ne)=>{const S=[],Q=new Date(ne,v),oe=new Date(ne,v+1,0),Re=t.weekStart,Ie=s.startOfWeek(Q,{weekStartsOn:Re}),at=ct=>{const tn=te(ct,v);if(S.push({days:tn}),!S[S.length-1].days.some(Je=>pe(Pe(Je.value),Pe(oe)))){const Je=s.addDays(ct,7);at(Je)}};return at(Ie),le(S,Q,oe,Re)},me=v=>{const ne=je(W(v.value),p.hours,p.minutes,Le());n("date-update",ne),A.value.enabled?jt(ne,m,A.value.limit):m.value=ne,a(),e.nextTick().then(()=>{C()})},M=v=>H.value.noDisabledRange?yn(r.value[0],v).some(S=>I(S)):!1,L=()=>{r.value=m.value?m.value.slice():[],r.value.length===2&&!(H.value.fixedStart||H.value.fixedEnd)&&(r.value=[])},de=(v,ne)=>{const S=[W(v.value),s.addDays(W(v.value),+H.value.autoRange)];x(S)?(ne&&Ce(v.value),r.value=S):n("invalid-date",v.value)},Ce=v=>{const ne=s.getMonth(W(v)),S=s.getYear(W(v));if(Z(0,ne,S),g.value.count>0)for(let Q=1;Q<g.value.count;Q++){const oe=Qn(s.set(W(v),{year:y.value(Q-1),month:ie.value(Q-1)}));Z(Q,oe.month,oe.year)}},ze=v=>{if(M(v.value)||!F(v.value,m.value,H.value.fixedStart?0:1))return n("invalid-date",v.value);r.value=$n(W(v.value),m,n,H)},ue=(v,ne)=>{if(L(),H.value.autoRange)return de(v,ne);if(H.value.fixedStart||H.value.fixedEnd)return ze(v);r.value[0]?F(W(v.value),m.value)&&!M(v.value)?be(W(v.value),W(r.value[0]))?(r.value.unshift(W(v.value)),n("range-end",r.value[0])):(r.value[1]=W(v.value),n("range-end",r.value[1])):(t.autoApply&&n("auto-apply-invalid",v.value),n("invalid-date",v.value)):(r.value[0]=W(v.value),n("range-start",r.value[0]))},Le=(v=!0)=>t.enableSeconds?Array.isArray(p.seconds)?v?p.seconds[0]:p.seconds[1]:p.seconds:0,Me=v=>{r.value[v]=je(r.value[v],p.hours[v],p.minutes[v],Le(v!==1))},Gt=()=>{var v,ne;r.value[0]&&r.value[1]&&+((v=r.value)==null?void 0:v[0])>+((ne=r.value)==null?void 0:ne[1])&&(r.value.reverse(),n("range-start",r.value[0]),n("range-end",r.value[1]))},Qt=()=>{r.value.length&&(r.value[0]&&!r.value[1]?Me(0):(Me(0),Me(1),a()),Gt(),m.value=r.value.slice(),ht(r.value,n,t.autoApply,t.modelAuto))},bt=(v,ne=!1)=>{if(I(v.value)||!v.current&&t.hideOffsetDates)return n("invalid-date",v.value);if(f.value=JSON.parse(JSON.stringify(v)),!H.value.enabled)return me(v);Nn(p.hours)&&Nn(p.minutes)&&!A.value.enabled&&(ue(v,ne),Qt())},Xt=(v,ne)=>{var Q;Z(v,ne.month,ne.year,!0),g.value.count&&!g.value.solo&&J(v),n("update-month-year",{instance:v,month:ne.month,year:ne.year}),l(g.value.solo?v:void 0);const S=(Q=t.flow)!=null&&Q.length?t.flow[t.flowStep]:void 0;!ne.fromNav&&(S===Be.month||S===Be.year)&&a()},Jt=(v,ne)=>{Tn({value:v,modelValue:m,range:H.value.enabled,timezone:ne?void 0:U.value.timezone}),h(),t.multiCalendars&&e.nextTick().then(()=>k(!0))},Zt=()=>{const v=Bt(W(),U.value);!H.value.enabled&&!A.value.enabled?m.value=v:m.value&&Array.isArray(m.value)&&m.value[0]?A.value.enabled?m.value=[...m.value,v]:m.value=be(v,m.value[0])?[v,m.value[0]]:[m.value[0],v]:m.value=[v],h()},Ft=()=>{if(Array.isArray(m.value))if(A.value.enabled){const v=en();m.value[m.value.length-1]=B(v)}else m.value=m.value.map((v,ne)=>v&&B(v,ne));else m.value=B(m.value);n("time-update")},en=()=>Array.isArray(m.value)&&m.value.length?m.value[m.value.length-1]:null;return{calendars:Y,modelValue:m,month:ie,year:y,time:p,disabledTimesConfig:se,today:P,validateTime:K,getCalendarDays:ge,getMarker:o,handleScroll:fe,handleSwipe:ae,handleArrow:z,selectDate:bt,updateMonthYear:Xt,presetDate:Jt,selectCurrentDate:Zt,updateTime:(v,ne=!0,S=!1)=>{X(v,ne,S,Ft)},assignMonthAndYear:E}},ir={key:0},ur=e.defineComponent({__name:"DatePicker",props:{..._e},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,{calendars:c,month:f,year:b,modelValue:m,time:Y,disabledTimesConfig:p,today:P,validateTime:g,getCalendarDays:$,getMarker:H,handleArrow:O,handleScroll:U,handleSwipe:d,selectDate:A,updateMonthYear:N,presetDate:I,selectCurrentDate:x,updateTime:F,assignMonthAndYear:X}=sr(r,a,re,E),B=e.useSlots(),{setHoverDate:q,getDayClassData:R,clearHoverDate:K}=Br(m,r),{defaultedMultiCalendars:se}=ke(r),ie=e.ref([]),y=e.ref([]),V=e.ref(null),Z=Ee(B,"calendar"),h=Ee(B,"monthYear"),j=Ee(B,"timePicker"),C=z=>{r.shadow||a("mount",z)};e.watch(c,()=>{r.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),e.watch(se,(z,ae)=>{z.count-ae.count>0&&X()},{deep:!0});const k=e.computed(()=>z=>$(f.value(z),b.value(z)).map(ae=>({...ae,days:ae.days.map(o=>(o.marker=H(o),o.classData=R(o),o))})));function re(z){var ae;z||z===0?(ae=y.value[z])==null||ae.triggerTransition(f.value(z),b.value(z)):y.value.forEach((o,ee)=>o.triggerTransition(f.value(ee),b.value(ee)))}function E(){a("update-flow-step")}const D=(z,ae=!1)=>{A(z,ae),r.spaceConfirm&&a("select-date")},G=(z,ae,o=0)=>{var ee;(ee=ie.value[o])==null||ee.toggleMonthPicker(z,ae)},i=(z,ae,o=0)=>{var ee;(ee=ie.value[o])==null||ee.toggleYearPicker(z,ae)},w=(z,ae,o)=>{var ee;(ee=V.value)==null||ee.toggleTimePicker(z,ae,o)},_=(z,ae)=>{var o;if(!r.range){const ee=m.value?m.value:P,le=ae?new Date(ae):ee,te=z?s.startOfWeek(le,{weekStartsOn:1}):s.endOfWeek(le,{weekStartsOn:1});A({value:te,current:s.getMonth(le)===f.value(0),text:"",classData:{}}),(o=document.getElementById(Mn(te)))==null||o.focus()}},u=z=>{var ae;(ae=ie.value[0])==null||ae.handleMonthYearChange(z,!0)},J=z=>{N(0,{month:f.value(0),year:b.value(0)+(z?1:-1),fromNav:!0})},ce=(z,ae)=>{z===Be.time&&a(`time-picker-${ae?"open":"close"}`),a("overlay-toggle",{open:ae,overlay:z})},T=z=>{a("overlay-toggle",{open:!1,overlay:z}),a("focus-menu")};return n({clearHoverDate:K,presetDate:I,selectCurrentDate:x,toggleMonthPicker:G,toggleYearPicker:i,toggleTimePicker:w,handleArrow:O,updateMonthYear:N,getSidebarProps:()=>({modelValue:m,month:f,year:b,time:Y,updateTime:F,updateMonthYear:N,selectDate:A,presetDate:I}),changeMonth:u,changeYear:J,selectWeekDate:_}),(z,ae)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(yt,{"multi-calendars":e.unref(se).count,collapse:z.collapse,"is-mobile":z.isMobile},{default:e.withCtx(({instance:o,index:ee})=>[z.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Fa,e.mergeProps({key:0,ref:le=>{le&&(ie.value[ee]=le)},months:e.unref(ln)(z.formatLocale,z.locale,z.monthNameFormat),years:e.unref($t)(z.yearRange,z.locale,z.reverseYears),month:e.unref(f)(o),year:e.unref(b)(o),instance:o},z.$props,{onMount:ae[0]||(ae[0]=le=>C(e.unref(Qe).header)),onResetFlow:ae[1]||(ae[1]=le=>z.$emit("reset-flow")),onUpdateMonthYear:le=>e.unref(N)(o,le),onOverlayClosed:T,onOverlayOpened:ae[2]||(ae[2]=le=>z.$emit("overlay-toggle",{open:!0,overlay:le}))}),e.createSlots({_:2},[e.renderList(e.unref(h),(le,te)=>({name:le,fn:e.withCtx(ge=>[e.renderSlot(z.$slots,le,e.normalizeProps(e.guardReactiveProps(ge)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(or,e.mergeProps({ref:le=>{le&&(y.value[ee]=le)},"mapped-dates":k.value(o),month:e.unref(f)(o),year:e.unref(b)(o),instance:o},z.$props,{onSelectDate:le=>e.unref(A)(le,o!==1),onHandleSpace:le=>D(le,o!==1),onSetHoverDate:ae[3]||(ae[3]=le=>e.unref(q)(le)),onHandleScroll:le=>e.unref(U)(le,o),onHandleSwipe:le=>e.unref(d)(le,o),onMount:ae[4]||(ae[4]=le=>C(e.unref(Qe).calendar)),onResetFlow:ae[5]||(ae[5]=le=>z.$emit("reset-flow")),onTooltipOpen:ae[6]||(ae[6]=le=>z.$emit("tooltip-open",le)),onTooltipClose:ae[7]||(ae[7]=le=>z.$emit("tooltip-close",le))}),e.createSlots({_:2},[e.renderList(e.unref(Z),(le,te)=>({name:le,fn:e.withCtx(ge=>[e.renderSlot(z.$slots,le,e.normalizeProps(e.guardReactiveProps({...ge})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),z.enableTimePicker?(e.openBlock(),e.createElementBlock("div",ir,[z.$slots["time-picker"]?e.renderSlot(z.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(Y),updateTime:e.unref(F)}))):(e.openBlock(),e.createBlock(Pn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:V},z.$props,{hours:e.unref(Y).hours,minutes:e.unref(Y).minutes,seconds:e.unref(Y).seconds,"internal-model-value":z.internalModelValue,"disabled-times-config":e.unref(p),"validate-time":e.unref(g),onMount:ae[8]||(ae[8]=o=>C(e.unref(Qe).timePicker)),"onUpdate:hours":ae[9]||(ae[9]=o=>e.unref(F)(o)),"onUpdate:minutes":ae[10]||(ae[10]=o=>e.unref(F)(o,!1)),"onUpdate:seconds":ae[11]||(ae[11]=o=>e.unref(F)(o,!1,!0)),onResetFlow:ae[12]||(ae[12]=o=>z.$emit("reset-flow")),onOverlayClosed:ae[13]||(ae[13]=o=>ce(o,!1)),onOverlayOpened:ae[14]||(ae[14]=o=>ce(o,!0)),onAmPmChange:ae[15]||(ae[15]=o=>z.$emit("am-pm-change",o))}),e.createSlots({_:2},[e.renderList(e.unref(j),(o,ee)=>({name:o,fn:e.withCtx(le=>[e.renderSlot(z.$slots,o,e.normalizeProps(e.guardReactiveProps(le)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),cr=(t,n)=>{const l=e.ref(),{defaultedMultiCalendars:a,defaultedConfig:r,defaultedHighlight:c,defaultedRange:f,propDates:b,defaultedFilters:m,defaultedMultiDates:Y}=ke(t),{modelValue:p,year:P,month:g,calendars:$}=ut(t,n),{isDisabled:H}=Ge(t),{selectYear:O,groupedYears:U,showYearPicker:d,isDisabled:A,toggleYearPicker:N,handleYearSelect:I,handleYear:x}=An({modelValue:p,multiCalendars:a,range:f,highlight:c,calendars:$,propDates:b,month:g,year:P,filters:m,props:t,emit:n}),F=(h,j)=>[h,j].map(C=>s.format(C,"MMMM",{locale:t.formatLocale})).join("-"),X=e.computed(()=>h=>p.value?Array.isArray(p.value)?p.value.some(j=>s.isSameQuarter(h,j)):s.isSameQuarter(p.value,h):!1),B=h=>{if(f.value.enabled){if(Array.isArray(p.value)){const j=pe(h,p.value[0])||pe(h,p.value[1]);return ft(p.value,l.value,h)&&!j}return!1}return!1},q=(h,j)=>h.quarter===s.getQuarter(j)&&h.year===s.getYear(j),R=h=>typeof c.value=="function"?c.value({quarter:s.getQuarter(h),year:s.getYear(h)}):!!c.value.quarters.find(j=>q(j,h)),K=e.computed(()=>h=>{const j=s.set(new Date,{year:P.value(h)});return s.eachQuarterOfInterval({start:s.startOfYear(j),end:s.endOfYear(j)}).map(C=>{const k=s.startOfQuarter(C),re=s.endOfQuarter(C),E=H(C),D=B(k),G=R(k);return{text:F(k,re),value:k,active:X.value(k),highlighted:G,disabled:E,isBetween:D}})}),se=h=>{jt(h,p,Y.value.limit),n("auto-apply",!0)},ie=h=>{p.value=Kt(p,h,n),ht(p.value,n,t.autoApply,t.modelAuto)},y=h=>{p.value=h,n("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:a,groupedYears:U,year:P,isDisabled:A,quarters:K,showYearPicker:d,modelValue:p,setHoverDate:h=>{l.value=h},selectYear:O,selectQuarter:(h,j,C)=>{if(!C)return $.value[j].month=s.getMonth(s.endOfQuarter(h)),Y.value.enabled?se(h):f.value.enabled?ie(h):y(h)},toggleYearPicker:N,handleYearSelect:I,handleYear:x}},dr={class:"dp--quarter-items"},fr=["data-test-id","disabled","onClick","onMouseover"],mr=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{..._e},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),f=Ee(c,"yearMode"),{defaultedMultiCalendars:b,defaultedConfig:m,groupedYears:Y,year:p,isDisabled:P,quarters:g,modelValue:$,showYearPicker:H,setHoverDate:O,selectQuarter:U,toggleYearPicker:d,handleYearSelect:A,handleYear:N}=cr(r,a);return n({getSidebarProps:()=>({modelValue:$,year:p,selectQuarter:U,handleYearSelect:A,handleYear:N})}),(x,F)=>(e.openBlock(),e.createBlock(yt,{"multi-calendars":e.unref(b).count,collapse:x.collapse,stretch:"","is-mobile":x.isMobile},{default:e.withCtx(({instance:X})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(m).modeHeight}px`})},[x.$slots["top-extra"]?e.renderSlot(x.$slots,"top-extra",{key:0,value:x.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode(Bn,e.mergeProps(x.$props,{items:e.unref(Y)(X),instance:X,"show-year-picker":e.unref(H)[X],year:e.unref(p)(X),"is-disabled":B=>e.unref(P)(X,B),onHandleYear:B=>e.unref(N)(X,B),onYearSelect:B=>e.unref(A)(B,X),onToggleYearPicker:B=>e.unref(d)(X,B==null?void 0:B.flow,B==null?void 0:B.show)}),e.createSlots({_:2},[e.renderList(e.unref(f),(B,q)=>({name:B,fn:e.withCtx(R=>[e.renderSlot(x.$slots,B,e.normalizeProps(e.guardReactiveProps(R)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",dr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(g)(X),(B,q)=>(e.openBlock(),e.createElementBlock("div",{key:q},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":B.active,"dp--qr-btn-between":B.isBetween,"dp--qr-btn-disabled":B.disabled,"dp--highlighted":B.highlighted}]),"data-test-id":B.value,disabled:B.disabled,onClick:R=>e.unref(U)(B.value,X,B.disabled),onMouseover:R=>e.unref(O)(B.value)},[x.$slots.quarter?e.renderSlot(x.$slots,"quarter",{key:0,value:B.value,text:B.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(B.text),1)],64))],42,fr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),En=(t,n)=>{const l=e.ref(0);e.onMounted(()=>{a(),window.addEventListener("resize",a,{passive:!0})}),e.onUnmounted(()=>{window.removeEventListener("resize",a)});const a=()=>{l.value=window.document.documentElement.clientWidth};return{isMobile:e.computed(()=>l.value<=t.value.mobileBreakpoint&&!n?!0:void 0)}},pr=["id","tabindex","role","aria-label"],gr={key:0,class:"dp--menu-load-container"},yr={key:1,class:"dp--menu-header"},hr=["data-dp-mobile"],kr={key:0,class:"dp__sidebar_left"},br=["data-dp-mobile"],vr=["data-test-id","data-dp-mobile","onClick","onKeydown"],wr={key:2,class:"dp__sidebar_right"},Mr={key:3,class:"dp__action_extra"},On=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...gt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.ref(null),f=e.computed(()=>{const{openOnTop:M,...L}=r;return{...L,isMobile:O.value,flowStep:K.value,menuWrapRef:c.value}}),{setMenuFocused:b,setShiftKey:m,control:Y}=Dn(),p=e.useSlots(),{defaultedTextInput:P,defaultedInline:g,defaultedConfig:$,defaultedUI:H}=ke(r),{isMobile:O}=En($,r.shadow),U=e.ref(null),d=e.ref(0),A=e.ref(null),N=e.ref(!1),I=e.ref(null),x=e.ref(!1);e.onMounted(()=>{if(!r.shadow){N.value=!0,F(),window.addEventListener("resize",F);const M=Se(c);if(M&&!P.value.enabled&&!g.value.enabled&&(b(!0),j()),M){const L=de=>{x.value=!0,$.value.allowPreventDefault&&de.preventDefault(),We(de,$.value,!0)};M.addEventListener("pointerdown",L),M.addEventListener("mousedown",L)}}document.addEventListener("mousedown",me)}),e.onUnmounted(()=>{window.removeEventListener("resize",F),document.addEventListener("mousedown",me)});const F=()=>{const M=Se(A);M&&(d.value=M.getBoundingClientRect().width)},{arrowRight:X,arrowLeft:B,arrowDown:q,arrowUp:R}=xe(),{flowStep:K,updateFlowStep:se,childMount:ie,resetFlow:y,handleFlow:V}=Tr(r,a,I),Z=e.computed(()=>r.monthPicker?Ra:r.yearPicker?Ea:r.timePicker?qa:r.quarterPicker?mr:ur),h=e.computed(()=>{var de;if($.value.arrowLeft)return $.value.arrowLeft;const M=(de=c.value)==null?void 0:de.getBoundingClientRect(),L=r.getInputRect();return(L==null?void 0:L.width)<(d==null?void 0:d.value)&&(L==null?void 0:L.left)<=((M==null?void 0:M.left)??0)?`${(L==null?void 0:L.width)/2}px`:(L==null?void 0:L.right)>=((M==null?void 0:M.right)??0)&&(L==null?void 0:L.width)<(d==null?void 0:d.value)?`${(d==null?void 0:d.value)-(L==null?void 0:L.width)/2}px`:"50%"}),j=()=>{const M=Se(c);M&&M.focus({preventScroll:!0})},C=e.computed(()=>{var M;return((M=I.value)==null?void 0:M.getSidebarProps())||{}}),k=()=>{r.openOnTop&&a("recalculate-position")},re=Ee(p,"action"),E=e.computed(()=>r.monthPicker||r.yearPicker?Ee(p,"monthYear"):r.timePicker?Ee(p,"timePicker"):Ee(p,"shared")),D=e.computed(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),G=e.computed(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),i=e.computed(()=>({dp__menu:!0,dp__menu_index:!g.value.enabled,dp__relative:g.value.enabled,...H.value.menu??{}})),w=M=>{We(M,$.value,!0)},_=()=>{r.escClose&&a("close-picker")},u=M=>{if(r.arrowNavigation){if(M===$e.up)return R();if(M===$e.down)return q();if(M===$e.left)return B();if(M===$e.right)return X()}else M===$e.left||M===$e.up?z("handleArrow",$e.left,0,M===$e.up):z("handleArrow",$e.right,0,M===$e.down)},J=M=>{m(M.shiftKey),!r.disableMonthYearSelect&&M.code===ye.tab&&M.target.classList.contains("dp__menu")&&Y.value.shiftKeyInMenu&&(M.preventDefault(),We(M,$.value,!0),a("close-picker"))},ce=()=>{j(),a("time-picker-close")},T=M=>{var L,de,Ce;(L=I.value)==null||L.toggleTimePicker(!1,!1),(de=I.value)==null||de.toggleMonthPicker(!1,!1,M),(Ce=I.value)==null||Ce.toggleYearPicker(!1,!1,M)},fe=(M,L=0)=>{var de,Ce,ze;return M==="month"?(de=I.value)==null?void 0:de.toggleMonthPicker(!1,!0,L):M==="year"?(Ce=I.value)==null?void 0:Ce.toggleYearPicker(!1,!0,L):M==="time"?(ze=I.value)==null?void 0:ze.toggleTimePicker(!0,!1):T(L)},z=(M,...L)=>{var de,Ce;(de=I.value)!=null&&de[M]&&((Ce=I.value)==null||Ce[M](...L))},ae=()=>{z("selectCurrentDate")},o=(M,L)=>{z("presetDate",M,L)},ee=()=>{z("clearHoverDate")},le=(M,L)=>{z("updateMonthYear",M,L)},te=(M,L)=>{M.preventDefault(),u(L)},ge=M=>{var L,de,Ce;if(J(M),M.key===ye.home||M.key===ye.end)return z("selectWeekDate",M.key===ye.home,M.target.getAttribute("id"));switch((M.key===ye.pageUp||M.key===ye.pageDown)&&(M.shiftKey?(z("changeYear",M.key===ye.pageUp),(L=Pt(c.value,"overlay-year"))==null||L.focus()):(z("changeMonth",M.key===ye.pageUp),(de=Pt(c.value,M.key===ye.pageUp?"action-prev":"action-next"))==null||de.focus()),M.target.getAttribute("id")&&((Ce=c.value)==null||Ce.focus({preventScroll:!0}))),M.key){case ye.esc:return _();case ye.arrowLeft:return te(M,$e.left);case ye.arrowRight:return te(M,$e.right);case ye.arrowUp:return te(M,$e.up);case ye.arrowDown:return te(M,$e.down);default:return}},me=M=>{var L;g.value.enabled&&!g.value.input&&!((L=c.value)!=null&&L.contains(M.target))&&x.value&&(x.value=!1,a("menu-blur"))};return n({updateMonthYear:le,switchView:fe,handleFlow:V}),(M,L)=>{var de,Ce,ze;return e.openBlock(),e.createElementBlock("div",{id:M.uid?`dp-menu-${M.uid}`:void 0,ref_key:"dpMenuRef",ref:c,tabindex:e.unref(g).enabled?void 0:"0",role:e.unref(g).enabled?void 0:"dialog","aria-label":(de=M.ariaLabels)==null?void 0:de.menu,class:e.normalizeClass(i.value),style:e.normalizeStyle({"--dp-arrow-left":h.value}),onMouseleave:ee,onClick:w,onKeydown:ge},[(M.disabled||M.readonly)&&e.unref(g).enabled||M.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(G.value)},[M.loading?(e.openBlock(),e.createElementBlock("div",gr,L[19]||(L[19]=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)]))):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),M.$slots["menu-header"]?(e.openBlock(),e.createElementBlock("div",yr,[e.renderSlot(M.$slots,"menu-header")])):e.createCommentVNode("",!0),!e.unref(g).enabled&&!M.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(D.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:A,class:e.normalizeClass({dp__menu_content_wrapper:((Ce=M.presetDates)==null?void 0:Ce.length)||!!M.$slots["left-sidebar"]||!!M.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((ze=M.presetDates)==null?void 0:ze.length)||!!M.$slots["left-sidebar"]||!!M.$slots["right-sidebar"])}),"data-dp-mobile":e.unref(O),style:e.normalizeStyle({"--dp-menu-width":`${d.value}px`})},[M.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",kr,[e.renderSlot(M.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(C.value)))])):e.createCommentVNode("",!0),M.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0}),"data-dp-mobile":e.unref(O)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.presetDates,(ue,Le)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:Le},[ue.slot?e.renderSlot(M.$slots,ue.slot,{key:0,presetDate:o,label:ue.label,value:ue.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(ue.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test-id":ue.testId??void 0,"data-dp-mobile":e.unref(O),onClick:e.withModifiers(Me=>o(ue.value,ue.noTz),["prevent"]),onKeydown:Me=>e.unref(Ae)(Me,()=>o(ue.value,ue.noTz),!0)},e.toDisplayString(ue.label),47,vr))],64))),128))],10,br)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:U,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(Z.value),e.mergeProps({ref_key:"dynCmpRef",ref:I},f.value,{"flow-step":e.unref(K),onMount:e.unref(ie),onUpdateFlowStep:e.unref(se),onResetFlow:e.unref(y),onFocusMenu:j,onSelectDate:L[0]||(L[0]=ue=>M.$emit("select-date")),onDateUpdate:L[1]||(L[1]=ue=>M.$emit("date-update",ue)),onTooltipOpen:L[2]||(L[2]=ue=>M.$emit("tooltip-open",ue)),onTooltipClose:L[3]||(L[3]=ue=>M.$emit("tooltip-close",ue)),onAutoApply:L[4]||(L[4]=ue=>M.$emit("auto-apply",ue)),onRangeStart:L[5]||(L[5]=ue=>M.$emit("range-start",ue)),onRangeEnd:L[6]||(L[6]=ue=>M.$emit("range-end",ue)),onInvalidFixedRange:L[7]||(L[7]=ue=>M.$emit("invalid-fixed-range",ue)),onTimeUpdate:L[8]||(L[8]=ue=>M.$emit("time-update")),onAmPmChange:L[9]||(L[9]=ue=>M.$emit("am-pm-change",ue)),onTimePickerOpen:L[10]||(L[10]=ue=>M.$emit("time-picker-open",ue)),onTimePickerClose:ce,onRecalculatePosition:k,onUpdateMonthYear:L[11]||(L[11]=ue=>M.$emit("update-month-year",ue)),onAutoApplyInvalid:L[12]||(L[12]=ue=>M.$emit("auto-apply-invalid",ue)),onInvalidDate:L[13]||(L[13]=ue=>M.$emit("invalid-date",ue)),onOverlayToggle:L[14]||(L[14]=ue=>M.$emit("overlay-toggle",ue)),"onUpdate:internalModelValue":L[15]||(L[15]=ue=>M.$emit("update:internal-model-value",ue))}),e.createSlots({_:2},[e.renderList(E.value,(ue,Le)=>({name:ue,fn:e.withCtx(Me=>[e.renderSlot(M.$slots,ue,e.normalizeProps(e.guardReactiveProps({...Me})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),M.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",wr,[e.renderSlot(M.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(C.value)))])):e.createCommentVNode("",!0),M.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Mr,[M.$slots["action-extra"]?e.renderSlot(M.$slots,"action-extra",{key:0,selectCurrentDate:ae}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],14,hr),!M.autoApply||e.unref($).keepActionRow?(e.openBlock(),e.createBlock(Ma,e.mergeProps({key:3,"menu-mount":N.value},f.value,{"calendar-width":d.value,onClosePicker:L[16]||(L[16]=ue=>M.$emit("close-picker")),onSelectDate:L[17]||(L[17]=ue=>M.$emit("select-date")),onInvalidSelect:L[18]||(L[18]=ue=>M.$emit("invalid-select")),onSelectNow:ae}),e.createSlots({_:2},[e.renderList(e.unref(re),(ue,Le)=>({name:ue,fn:e.withCtx(Me=>[e.renderSlot(M.$slots,ue,e.normalizeProps(e.guardReactiveProps({...Me})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,pr)}}});var nt=(t=>(t.center="center",t.left="left",t.right="right",t))(nt||{});const Dr=({menuRef:t,menuRefInner:n,inputRef:l,pickerWrapperRef:a,inline:r,emit:c,props:f,slots:b})=>{const{defaultedConfig:m}=ke(f),Y=e.ref({}),p=e.ref(!1),P=e.ref({top:"0",left:"0"}),g=e.ref(!1),$=e.toRef(f,"teleportCenter");e.watch($,()=>{P.value=JSON.parse(JSON.stringify({})),x()});const H=h=>{if(f.teleport){const j=h.getBoundingClientRect();return{left:j.left+window.scrollX,top:j.top+window.scrollY}}return{top:0,left:0}},O=(h,j)=>{P.value.left=`${h+j-Y.value.width}px`},U=h=>{P.value.left=`${h}px`},d=(h,j)=>{f.position===nt.left&&U(h),f.position===nt.right&&O(h,j),f.position===nt.center&&(P.value.left=`${h+j/2-Y.value.width/2}px`)},A=h=>{const{width:j,height:C}=h.getBoundingClientRect(),{top:k,left:re}=H(h);return{top:+k,left:+re,width:j,height:C}},N=()=>{P.value.left="50%",P.value.top="50%",P.value.transform="translate(-50%, -50%)",P.value.position="fixed",delete P.value.opacity},I=()=>{const h=Se(l);P.value=f.altPosition(h)},x=(h=!0)=>{var j;if(!r.value.enabled){if($.value)return N();if(f.altPosition!==null)return I();if(h){const C=f.teleport?(j=n.value)==null?void 0:j.$el:t.value;C&&(Y.value=C.getBoundingClientRect()),c("recalculate-position")}return se()}},F=({inputEl:h,left:j,width:C})=>{window.screen.width>768&&!p.value&&d(j,C),q(h)},X=h=>{const{top:j,left:C,height:k,width:re}=A(h);P.value.top=`${k+j+ +f.offset}px`,g.value=!1,p.value||(P.value.left=`${C+re/2-Y.value.width/2}px`),F({inputEl:h,left:C,width:re})},B=h=>{const{top:j,left:C,width:k}=A(h);P.value.top=`${j-+f.offset-Y.value.height}px`,g.value=!0,F({inputEl:h,left:C,width:k})},q=h=>{if(f.autoPosition){const{left:j,width:C}=A(h),{left:k,right:re}=Y.value;if(!p.value){if(Math.abs(k)!==Math.abs(re)){if(k<=0)return p.value=!0,U(j);if(re>=document.documentElement.clientWidth)return p.value=!0,O(j,C)}return d(j,C)}}},R=()=>{const h=Se(l);if(h){if(f.autoPosition===Ye.top)return Ye.top;if(f.autoPosition===Ye.bottom)return Ye.bottom;const{height:j}=Y.value,{top:C,height:k}=h.getBoundingClientRect(),E=window.innerHeight-C-k,D=C;return j<=E?Ye.bottom:j>E&&j<=D?Ye.top:E>=D?Ye.bottom:Ye.top}return Ye.bottom},K=h=>R()===Ye.bottom?X(h):B(h),se=()=>{const h=Se(l);if(h)return f.autoPosition?K(h):X(h)},ie=function(h){if(h){const j=h.scrollHeight>h.clientHeight,k=window.getComputedStyle(h).overflowY.indexOf("hidden")!==-1;return j&&!k}return!0},y=function(h){return!h||h===document.body||h.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:ie(h)?h:y(h.assignedSlot&&m.value.shadowDom?h.assignedSlot.parentNode:h.parentNode)},V=h=>{if(h)switch(f.position){case nt.left:return{left:0,transform:"translateX(0)"};case nt.right:return{left:`${h.width}px`,transform:"translateX(-100%)"};default:return{left:`${h.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:g,menuStyle:P,xCorrect:p,setMenuPosition:x,getScrollableParent:y,shadowRender:(h,j)=>{var i,w,_;const C=document.createElement("div"),k=(i=Se(l))==null?void 0:i.getBoundingClientRect();C.setAttribute("id","dp--temp-container");const re=(w=a.value)!=null&&w.clientWidth?a.value:document.body;re.append(C);const E=V(k),D=m.value.shadowDom?Object.keys(b).filter(u=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(u)):Object.keys(b),G=e.h(h,{...j,shadow:!0,style:{opacity:0,position:"absolute",...E}},Object.fromEntries(D.map(u=>[u,b[u]])));e.render(G,C),Y.value=(_=G.el)==null?void 0:_.getBoundingClientRect(),e.render(null,C),re.removeChild(C)}}},qe=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],Sr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Cr={all:()=>qe,monthYear:()=>qe.filter(t=>t.use.includes("month-year")),input:()=>Sr,timePicker:()=>qe.filter(t=>t.use.includes("time")),action:()=>qe.filter(t=>t.use.includes("action")),calendar:()=>qe.filter(t=>t.use.includes("calendar")),menu:()=>qe.filter(t=>t.use.includes("menu")),shared:()=>qe.filter(t=>t.use.includes("shared")),yearMode:()=>qe.filter(t=>t.use.includes("year-mode"))},Ee=(t,n,l)=>{const a=[];return Cr[n]().forEach(r=>{t[r.name]&&a.push(r.name)}),l!=null&&l.length&&l.forEach(r=>{r.slot&&a.push(r.slot)}),a},it=t=>{const n=e.computed(()=>a=>t.value?a?t.value.open:t.value.close:""),l=e.computed(()=>a=>t.value?a?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:l}},ut=(t,n,l)=>{const{defaultedRange:a,defaultedTz:r}=ke(t),c=W(Ne(W(),r.value.timezone)),f=e.ref([{month:s.getMonth(c),year:s.getYear(c)}]),b=g=>{const $={hours:s.getHours(c),minutes:s.getMinutes(c),seconds:0};return a.value.enabled?[$[g],$[g]]:$[g]},m=e.reactive({hours:b("hours"),minutes:b("minutes"),seconds:b("seconds")});e.watch(a,(g,$)=>{g.enabled!==$.enabled&&(m.hours=b("hours"),m.minutes=b("minutes"),m.seconds=b("seconds"))},{deep:!0});const Y=e.computed({get:()=>t.internalModelValue,set:g=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",g)}}),p=e.computed(()=>g=>f.value[g]?f.value[g].month:0),P=e.computed(()=>g=>f.value[g]?f.value[g].year:0);return e.watch(Y,(g,$)=>{l&&JSON.stringify(g??{})!==JSON.stringify($??{})&&l()},{deep:!0}),{calendars:f,time:m,modelValue:Y,month:p,year:P,today:c}},Br=(t,n)=>{const{defaultedMultiCalendars:l,defaultedMultiDates:a,defaultedUI:r,defaultedHighlight:c,defaultedTz:f,propDates:b,defaultedRange:m}=ke(n),{isDisabled:Y}=Ge(n),p=e.ref(null),P=e.ref(Ne(new Date,f.value.timezone)),g=i=>{!i.current&&n.hideOffsetDates||(p.value=i.value)},$=()=>{p.value=null},H=i=>Array.isArray(t.value)&&m.value.enabled&&t.value[0]&&p.value?i?ve(p.value,t.value[0]):be(p.value,t.value[0]):!0,O=(i,w)=>{const _=()=>t.value?w?t.value[0]||null:t.value[1]:null,u=t.value&&Array.isArray(t.value)?_():null;return pe(W(i.value),u)},U=i=>{const w=Array.isArray(t.value)?t.value[0]:null;return i?!be(p.value??null,w):!0},d=(i,w=!0)=>(m.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!i.current?!1:pe(W(i.value),t.value[w?0:1]):m.value.enabled?O(i,w)&&U(w)||pe(i.value,Array.isArray(t.value)?t.value[0]:null)&&H(w):!1,A=(i,w)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const _=pe(i.value,p.value);return w?ve(t.value[0],i.value)&&_:be(t.value[0],i.value)&&_}return!1},N=i=>!t.value||n.hideOffsetDates&&!i.current?!1:m.value.enabled?n.modelAuto&&Array.isArray(t.value)?pe(i.value,t.value[0]?t.value[0]:P.value):!1:a.value.enabled&&Array.isArray(t.value)?t.value.some(w=>pe(w,i.value)):pe(i.value,t.value?t.value:P.value),I=i=>{if(m.value.autoRange||n.weekPicker){if(p.value){if(n.hideOffsetDates&&!i.current)return!1;const w=s.addDays(p.value,+m.value.autoRange),_=He(W(p.value),n.weekStart);return n.weekPicker?pe(_[1],W(i.value)):pe(w,W(i.value))}return!1}return!1},x=i=>{if(m.value.autoRange||n.weekPicker){if(p.value){const w=s.addDays(p.value,+m.value.autoRange);if(n.hideOffsetDates&&!i.current)return!1;const _=He(W(p.value),n.weekStart);return n.weekPicker?ve(i.value,_[0])&&be(i.value,_[1]):ve(i.value,p.value)&&be(i.value,w)}return!1}return!1},F=i=>{if(m.value.autoRange||n.weekPicker){if(p.value){if(n.hideOffsetDates&&!i.current)return!1;const w=He(W(p.value),n.weekStart);return n.weekPicker?pe(w[0],i.value):pe(p.value,i.value)}return!1}return!1},X=i=>ft(t.value,p.value,i.value),B=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,q=()=>n.modelAuto?on(n.internalModelValue):!0,R=i=>{if(n.weekPicker)return!1;const w=m.value.enabled?!d(i)&&!d(i,!1):!0;return!Y(i.value)&&!N(i)&&!(!i.current&&n.hideOffsetDates)&&w},K=i=>m.value.enabled?n.modelAuto?B()&&N(i):!1:N(i),se=i=>c.value?xn(i.value,b.value.highlight):!1,ie=i=>{const w=Y(i.value);return w&&(typeof c.value=="function"?!c.value(i.value,w):!c.value.options.highlightDisabled)},y=i=>{var w;return typeof c.value=="function"?c.value(i.value):(w=c.value.weekdays)==null?void 0:w.includes(i.value.getDay())},V=i=>(m.value.enabled||n.weekPicker)&&(!(l.value.count>0)||i.current)&&q()&&!(!i.current&&n.hideOffsetDates)&&!N(i)?X(i):!1,Z=i=>{const{isRangeStart:w,isRangeEnd:_}=k(i),u=m.value.enabled?w||_:!1;return{dp__cell_offset:!i.current,dp__pointer:!n.disabled&&!(!i.current&&n.hideOffsetDates)&&!Y(i.value),dp__cell_disabled:Y(i.value),dp__cell_highlight:!ie(i)&&(se(i)||y(i))&&!K(i)&&!u&&!F(i)&&!(V(i)&&n.weekPicker)&&!_,dp__cell_highlight_active:!ie(i)&&(se(i)||y(i))&&K(i),dp__today:!n.noToday&&pe(i.value,P.value)&&i.current,"dp--past":be(i.value,P.value),"dp--future":ve(i.value,P.value)}},h=i=>({dp__active_date:K(i),dp__date_hover:R(i)}),j=i=>{if(t.value&&!Array.isArray(t.value)){const w=He(t.value,n.weekStart);return{...E(i),dp__range_start:pe(w[0],i.value),dp__range_end:pe(w[1],i.value),dp__range_between_week:ve(i.value,w[0])&&be(i.value,w[1])}}return{...E(i)}},C=i=>{if(t.value&&Array.isArray(t.value)){const w=He(t.value[0],n.weekStart),_=t.value[1]?He(t.value[1],n.weekStart):[];return{...E(i),dp__range_start:pe(w[0],i.value)||pe(_[0],i.value),dp__range_end:pe(w[1],i.value)||pe(_[1],i.value),dp__range_between_week:ve(i.value,w[0])&&be(i.value,w[1])||ve(i.value,_[0])&&be(i.value,_[1]),dp__range_between:ve(i.value,w[1])&&be(i.value,_[0])}}return{...E(i)}},k=i=>{const w=l.value.count>0?i.current&&d(i)&&q():d(i)&&q(),_=l.value.count>0?i.current&&d(i,!1)&&q():d(i,!1)&&q();return{isRangeStart:w,isRangeEnd:_}},re=i=>{const{isRangeStart:w,isRangeEnd:_}=k(i);return{dp__range_start:w,dp__range_end:_,dp__range_between:V(i),dp__date_hover:pe(i.value,p.value)&&!w&&!_&&!n.weekPicker,dp__date_hover_start:A(i,!0),dp__date_hover_end:A(i,!1)}},E=i=>({...re(i),dp__cell_auto_range:x(i),dp__cell_auto_range_start:F(i),dp__cell_auto_range_end:I(i)}),D=i=>m.value.enabled?m.value.autoRange?E(i):n.modelAuto?{...h(i),...re(i)}:n.weekPicker?C(i):re(i):n.weekPicker?j(i):h(i);return{setHoverDate:g,clearHoverDate:$,getDayClassData:i=>n.hideOffsetDates&&!i.current?{}:{...Z(i),...D(i),[n.dayClass?n.dayClass(i.value,n.internalModelValue):""]:!0,...r.value.calendarCell??{}}}},Ge=t=>{const{defaultedFilters:n,defaultedRange:l,propDates:a,defaultedMultiDates:r}=ke(t),c=y=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(W(y)):!!dt(y,a.value.disabledDates):!1,f=y=>a.value.maxDate?t.yearPicker?s.getYear(y)>s.getYear(a.value.maxDate):ve(y,a.value.maxDate):!1,b=y=>a.value.minDate?t.yearPicker?s.getYear(y)<s.getYear(a.value.minDate):be(y,a.value.minDate):!1,m=y=>{const V=f(y),Z=b(y),h=c(y),C=n.value.months.map(G=>+G).includes(s.getMonth(y)),k=t.disabledWeekDays.length?t.disabledWeekDays.some(G=>+G===s.getDay(y)):!1,re=$(y),E=s.getYear(y),D=E<+t.yearRange[0]||E>+t.yearRange[1];return!(V||Z||h||C||D||k||re)},Y=(y,V)=>be(...Ke(a.value.minDate,y,V))||pe(...Ke(a.value.minDate,y,V)),p=(y,V)=>ve(...Ke(a.value.maxDate,y,V))||pe(...Ke(a.value.maxDate,y,V)),P=(y,V,Z)=>{let h=!1;return a.value.maxDate&&Z&&p(y,V)&&(h=!0),a.value.minDate&&!Z&&Y(y,V)&&(h=!0),h},g=(y,V,Z,h)=>{let j=!1;return h&&(a.value.minDate||a.value.maxDate)?a.value.minDate&&a.value.maxDate?j=P(y,V,Z):(a.value.minDate&&Y(y,V)||a.value.maxDate&&p(y,V))&&(j=!0):j=!0,j},$=y=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!dt(y,a.value.allowedDates):!1,H=y=>!m(y),O=y=>l.value.noDisabledRange?!s.eachDayOfInterval({start:y[0],end:y[1]}).some(Z=>H(Z)):!0,U=y=>{if(y){const V=s.getYear(y);return V>=+t.yearRange[0]&&V<=t.yearRange[1]}return!0},d=(y,V)=>!!(Array.isArray(y)&&y[V]&&(l.value.maxRange||l.value.minRange)&&U(y[V])),A=(y,V,Z=0)=>{if(d(V,Z)&&U(y)){const h=s.differenceInCalendarDays(y,V[Z]),j=yn(V[Z],y),C=j.length===1?0:j.filter(re=>H(re)).length,k=Math.abs(h)-(l.value.minMaxRawRange?0:C);if(l.value.minRange&&l.value.maxRange)return k>=+l.value.minRange&&k<=+l.value.maxRange;if(l.value.minRange)return k>=+l.value.minRange;if(l.value.maxRange)return k<=+l.value.maxRange}return!0},N=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,I=y=>Array.isArray(y)?[y[0]?_t(y[0]):null,y[1]?_t(y[1]):null]:_t(y),x=(y,V,Z)=>y.find(h=>+h.hours===s.getHours(V)&&h.minutes==="*"?!0:+h.minutes===s.getMinutes(V)&&+h.hours===s.getHours(V))&&Z,F=(y,V,Z)=>{const[h,j]=y,[C,k]=V;return!x(h,C,Z)&&!x(j,k,Z)&&Z},X=(y,V)=>{const Z=Array.isArray(V)?V:[V];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?F(t.disabledTimes,Z,y):!Z.some(h=>x(t.disabledTimes,h,y)):y},B=(y,V)=>{const Z=Array.isArray(V)?[Xe(V[0]),V[1]?Xe(V[1]):void 0]:Xe(V),h=!t.disabledTimes(Z);return y&&h},q=(y,V)=>t.disabledTimes?Array.isArray(t.disabledTimes)?X(V,y):B(V,y):V,R=y=>{let V=!0;if(!y||N())return!0;const Z=!a.value.minDate&&!a.value.maxDate?I(y):y;return(t.maxTime||a.value.maxDate)&&(V=vn(t.maxTime,a.value.maxDate,"max",De(Z),V)),(t.minTime||a.value.minDate)&&(V=vn(t.minTime,a.value.minDate,"min",De(Z),V)),q(y,V)},K=y=>{if(!t.monthPicker)return!0;let V=!0;const Z=W(Ve(y));if(a.value.minDate&&a.value.maxDate){const h=W(Ve(a.value.minDate)),j=W(Ve(a.value.maxDate));return ve(Z,h)&&be(Z,j)||pe(Z,h)||pe(Z,j)}if(a.value.minDate){const h=W(Ve(a.value.minDate));V=ve(Z,h)||pe(Z,h)}if(a.value.maxDate){const h=W(Ve(a.value.maxDate));V=be(Z,h)||pe(Z,h)}return V},se=e.computed(()=>y=>!t.enableTimePicker||t.ignoreTimeValidation?!0:R(y)),ie=e.computed(()=>y=>t.monthPicker?Array.isArray(y)&&(l.value.enabled||r.value.enabled)?!y.filter(Z=>!K(Z)).length:K(y):!0);return{isDisabled:H,validateDate:m,validateMonthYearInRange:g,isDateRangeAllowed:O,checkMinMaxRange:A,isValidTime:R,isTimeValid:se,isMonthValid:ie}},kt=()=>{const t=e.computed(()=>(a,r)=>a==null?void 0:a.includes(r)),n=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===0:!0),l=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===a.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:l}},Tr=(t,n,l)=>{const a=e.ref(0),r=e.reactive({[Qe.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Qe.calendar]:!1,[Qe.header]:!1}),c=e.computed(()=>t.monthPicker||t.timePicker),f=P=>{var g;if((g=t.flow)!=null&&g.length){if(!P&&c.value)return p();r[P]=!0,Object.keys(r).filter($=>!r[$]).length||p()}},b=()=>{var P,g;(P=t.flow)!=null&&P.length&&a.value!==-1&&(a.value+=1,n("flow-step",a.value),p()),((g=t.flow)==null?void 0:g.length)===a.value&&e.nextTick().then(()=>m())},m=()=>{a.value=-1},Y=(P,g,...$)=>{var H,O;t.flow[a.value]===P&&l.value&&((O=(H=l.value)[g])==null||O.call(H,...$))},p=(P=0)=>{P&&(a.value+=P),Y(Be.month,"toggleMonthPicker",!0),Y(Be.year,"toggleYearPicker",!0),Y(Be.calendar,"toggleTimePicker",!1,!0),Y(Be.time,"toggleTimePicker",!0,!0);const g=t.flow[a.value];(g===Be.hours||g===Be.minutes||g===Be.seconds)&&Y(g,"toggleTimePicker",!0,!0,g)};return{childMount:f,updateFlowStep:b,resetFlow:m,handleFlow:p,flowStep:a}},$r={key:1,class:"dp__input_wrap"},Ar=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Pr={key:2,class:"dp--clear-btn"},Rr=["aria-label"],Nr=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...gt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(t,{expose:n,emit:l}){const a=l,r=t,{defaultedTextInput:c,defaultedAriaLabels:f,defaultedInline:b,defaultedConfig:m,defaultedRange:Y,defaultedMultiDates:p,defaultedUI:P,getDefaultPattern:g,getDefaultStartTime:$}=ke(r),{checkMinMaxRange:H}=Ge(r),O=e.ref(),U=e.ref(null),d=e.ref(!1),A=e.ref(!1),N=e.computed(()=>({dp__pointer:!r.disabled&&!r.readonly&&!c.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!c.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:typeof r.state=="boolean"?r.state:!1,dp__input_invalid:typeof r.state=="boolean"?!r.state:!1,dp__input_focus:d.value||r.isMenuOpen,dp__input_reg:!c.value.enabled,...P.value.input??{}})),I=()=>{a("set-input-date",null),r.clearable&&r.autoApply&&(a("set-empty-date"),O.value=null)},x=k=>{const re=$();return qn(k,c.value.format??g(),re??hn({},r.enableSeconds),r.inputValue,A.value,r.formatLocale)},F=k=>{const{rangeSeparator:re}=c.value,[E,D]=k.split(`${re}`);if(E){const G=x(E.trim()),i=D?x(D.trim()):null;if(s.isAfter(G,i))return;const w=G&&i?[G,i]:[G];H(i,w,0)&&(O.value=G?w:null)}},X=()=>{A.value=!0},B=k=>{if(Y.value.enabled)F(k);else if(p.value.enabled){const re=k.split(";");O.value=re.map(E=>x(E.trim())).filter(E=>E)}else O.value=x(k)},q=k=>{var E;const re=typeof k=="string"?k:(E=k.target)==null?void 0:E.value;re!==""?(c.value.openMenu&&!r.isMenuOpen&&a("open"),B(re),a("set-input-date",O.value)):I(),A.value=!1,a("update:input-value",re),a("text-input",k,O.value)},R=k=>{c.value.enabled?(B(k.target.value),c.value.enterSubmit&&Ot(O.value)&&r.inputValue!==""?(a("set-input-date",O.value,!0),O.value=null):c.value.enterSubmit&&r.inputValue===""&&(O.value=null,a("clear"))):ie(k)},K=(k,re)=>{c.value.enabled&&c.value.tabSubmit&&!re&&B(k.target.value),c.value.tabSubmit&&Ot(O.value)&&r.inputValue!==""?(a("set-input-date",O.value,!0,!0),O.value=null):c.value.tabSubmit&&r.inputValue===""&&(O.value=null,a("clear",!0))},se=()=>{d.value=!0,a("focus"),e.nextTick().then(()=>{var k;c.value.enabled&&c.value.selectOnFocus&&((k=U.value)==null||k.select())})},ie=k=>{if(We(k,m.value,!0),c.value.enabled&&c.value.openMenu&&!b.value.input){if(c.value.openMenu==="open"&&!r.isMenuOpen)return a("open");if(c.value.openMenu==="toggle")return a("toggle")}else c.value.enabled||a("toggle")},y=()=>{a("real-blur"),d.value=!1,(!r.isMenuOpen||b.value.enabled&&b.value.input)&&a("blur"),r.autoApply&&c.value.enabled&&O.value&&!r.isMenuOpen&&(a("set-input-date",O.value),a("select-date"),O.value=null)},V=k=>{We(k,m.value,!0),a("clear")},Z=k=>{if(k.key==="Tab"&&K(k),k.key==="Enter"&&R(k),!c.value.enabled){if(k.code==="Tab")return;k.preventDefault()}},h=()=>{var k;(k=U.value)==null||k.focus({preventScroll:!0})},j=k=>{O.value=k},C=k=>{k.key===ye.tab&&K(k,!0)};return n({focusInput:h,setParsedDate:j}),(k,re)=>{var E,D,G;return e.openBlock(),e.createElementBlock("div",{onClick:ie},[k.$slots.trigger&&!k.$slots["dp-input"]&&!e.unref(b).enabled?e.renderSlot(k.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!k.$slots.trigger&&(!e.unref(b).enabled||e.unref(b).input)?(e.openBlock(),e.createElementBlock("div",$r,[k.$slots["dp-input"]&&!k.$slots.trigger&&(!e.unref(b).enabled||e.unref(b).enabled&&e.unref(b).input)?e.renderSlot(k.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:q,onEnter:R,onTab:K,onClear:V,onBlur:y,onKeypress:Z,onPaste:X,onFocus:se,openMenu:()=>k.$emit("open"),closeMenu:()=>k.$emit("close"),toggleMenu:()=>k.$emit("toggle")}):e.createCommentVNode("",!0),k.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:k.uid?`dp-input-${k.uid}`:void 0,ref_key:"inputRef",ref:U,"data-test-id":"dp-input",name:k.name,class:e.normalizeClass(N.value),inputmode:e.unref(c).enabled?"text":"none",placeholder:k.placeholder,disabled:k.disabled,readonly:k.readonly,required:k.required,value:t.inputValue,autocomplete:k.autocomplete,"aria-label":(E=e.unref(f))==null?void 0:E.input,"aria-disabled":k.disabled||void 0,"aria-invalid":k.state===!1?!0:void 0,onInput:q,onBlur:y,onFocus:se,onKeypress:Z,onKeydown:re[0]||(re[0]=i=>Z(i)),onPaste:X},null,42,Ar)),e.createElementVNode("div",{onClick:re[3]||(re[3]=i=>a("toggle"))},[k.$slots["input-icon"]&&!k.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:re[1]||(re[1]=i=>a("toggle"))},[e.renderSlot(k.$slots,"input-icon")])):e.createCommentVNode("",!0),!k.$slots["input-icon"]&&!k.hideInputIcon&&!k.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Ze),{key:1,"aria-label":(D=e.unref(f))==null?void 0:D.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:re[2]||(re[2]=i=>a("toggle"))},null,8,["aria-label"])):e.createCommentVNode("",!0)]),k.$slots["clear-icon"]&&t.inputValue&&k.clearable&&!k.disabled&&!k.readonly?(e.openBlock(),e.createElementBlock("span",Pr,[e.renderSlot(k.$slots,"clear-icon",{clear:V})])):e.createCommentVNode("",!0),k.clearable&&!k.$slots["clear-icon"]&&t.inputValue&&!k.disabled&&!k.readonly?(e.openBlock(),e.createElementBlock("button",{key:3,"aria-label":(G=e.unref(f))==null?void 0:G.clearInput,class:"dp--clear-btn",type:"button",onKeydown:re[4]||(re[4]=i=>e.unref(Ae)(i,()=>V(i),!0,C)),onClick:re[5]||(re[5]=e.withModifiers(i=>V(i),["prevent"]))},[e.createVNode(e.unref(an),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,Rr)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Er=typeof window<"u"?window:void 0,xt=()=>{},Or=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Yr=(t,n,l,a)=>{if(!t)return xt;let r=xt;const c=e.watch(()=>e.unref(t),b=>{r(),b&&(b.addEventListener(n,l,a),r=()=>{b.removeEventListener(n,l,a),r=xt})},{immediate:!0,flush:"post"}),f=()=>{c(),r()};return Or(f),f},Vr=(t,n,l,a={})=>{const{window:r=Er,event:c="pointerdown"}=a;return r?Yr(r,c,b=>{const m=Se(t),Y=Se(n);!m||!Y||m===b.target||b.composedPath().includes(m)||b.composedPath().includes(Y)||l(b)},{passive:!0}):void 0},_r=["data-dp-mobile"],Ir=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...gt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),f=e.ref(!1),b=e.toRef(r,"modelValue"),m=e.toRef(r,"timezone"),Y=e.ref(null),p=e.ref(null),P=e.ref(null),g=e.ref(!1),$=e.ref(null),H=e.ref(!1),O=e.ref(!1),U=e.ref(!1),d=e.ref(!1),{setMenuFocused:A,setShiftKey:N}=Dn(),{clearArrowNav:I}=xe(),{validateDate:x,isValidTime:F}=Ge(r),{defaultedTransitions:X,defaultedTextInput:B,defaultedInline:q,defaultedConfig:R,defaultedRange:K,defaultedMultiDates:se}=ke(r),{menuTransition:ie,showTransition:y}=it(X),{isMobile:V}=En(R);e.onMounted(()=>{w(r.modelValue),e.nextTick().then(()=>{if(!q.value.enabled){const S=E($.value);S==null||S.addEventListener("scroll",ee),window==null||window.addEventListener("resize",le)}}),q.value.enabled&&(f.value=!0),window==null||window.addEventListener("keyup",te),window==null||window.addEventListener("keydown",ge)}),e.onUnmounted(()=>{if(!q.value.enabled){const S=E($.value);S==null||S.removeEventListener("scroll",ee),window==null||window.removeEventListener("resize",le)}window==null||window.removeEventListener("keyup",te),window==null||window.removeEventListener("keydown",ge)});const Z=Ee(c,"all",r.presetDates),h=Ee(c,"input");e.watch([b,m],()=>{w(b.value)},{deep:!0});const{openOnTop:j,menuStyle:C,xCorrect:k,setMenuPosition:re,getScrollableParent:E,shadowRender:D}=Dr({menuRef:Y,menuRefInner:p,inputRef:P,pickerWrapperRef:$,inline:q,emit:a,props:r,slots:c}),{inputValue:G,internalModelValue:i,parseExternalModelValue:w,emitModelValue:_,formatInputValue:u,checkBeforeEmit:J}=ka(a,r,g),ce=e.computed(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:q.value.enabled,"dp--flex-display-collapsed":U.value,dp__flex_display_with_input:q.value.input})),T=e.computed(()=>r.dark?"dp__theme_dark":"dp__theme_light"),fe=e.computed(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||q.value.enabled}:{}),z=e.computed(()=>({class:"dp__outer_menu_wrap"})),ae=e.computed(()=>q.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),o=()=>{var S,Q;return((Q=(S=P.value)==null?void 0:S.$el)==null?void 0:Q.getBoundingClientRect())??{width:0,left:0,right:0}},ee=()=>{f.value&&(R.value.closeOnScroll?Me():re())},le=()=>{var Q;f.value&&re();const S=((Q=p.value)==null?void 0:Q.$el.getBoundingClientRect().width)??0;U.value=document.body.offsetWidth<=S},te=S=>{S.key==="Tab"&&!q.value.enabled&&!r.teleport&&R.value.tabOutClosesMenu&&($.value.contains(document.activeElement)||Me()),O.value=S.shiftKey},ge=S=>{O.value=S.shiftKey},me=()=>{!r.disabled&&!r.readonly&&(D(On,r),re(!1),f.value=!0,f.value&&a("open"),f.value||Le(),w(r.modelValue))},M=()=>{var S;G.value="",Le(),(S=P.value)==null||S.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),R.value.closeOnClearValue&&Me()},L=()=>{const S=i.value;return!S||!Array.isArray(S)&&x(S)?!0:Array.isArray(S)?se.value.enabled||S.length===2&&x(S[0])&&x(S[1])?!0:K.value.partialRange&&!r.timePicker?x(S[0]):!1:!1},de=()=>{J()&&L()?(_(),Me()):a("invalid-select",i.value)},Ce=S=>{ze(),_(),R.value.closeOnAutoApply&&!S&&Me()},ze=()=>{P.value&&B.value.enabled&&P.value.setParsedDate(i.value)},ue=(S=!1)=>{r.autoApply&&F(i.value)&&L()&&(K.value.enabled&&Array.isArray(i.value)?(K.value.partialRange||i.value.length===2)&&Ce(S):Ce(S))},Le=()=>{B.value.enabled||(i.value=null)},Me=(S=!1)=>{S&&i.value&&R.value.setDateOnMenuClose&&de(),q.value.enabled||(f.value&&(f.value=!1,k.value=!1,A(!1),N(!1),I(),a("closed"),G.value&&w(b.value)),Le(),a("blur"))},Gt=(S,Q,oe=!1)=>{if(!S){i.value=null;return}const Re=Array.isArray(S)?!S.some(at=>!x(at)):x(S),Ie=F(S);Re&&Ie?(d.value=!0,i.value=S,Q&&(H.value=oe,de(),a("text-submit")),e.nextTick().then(()=>{d.value=!1})):a("invalid-date",S)},Qt=()=>{r.autoApply&&F(i.value)&&_(),ze()},bt=()=>f.value?Me():me(),Xt=S=>{i.value=S},Jt=()=>{B.value.enabled&&(g.value=!0,u()),a("focus")},Zt=()=>{if(B.value.enabled&&(g.value=!1,w(r.modelValue),H.value)){const S=Kn($.value,O.value);S==null||S.focus()}a("blur")},Ft=S=>{p.value&&p.value.updateMonthYear(0,{month:sn(S.month),year:sn(S.year)})},en=S=>{w(S??r.modelValue)},Yn=(S,Q)=>{var oe;(oe=p.value)==null||oe.switchView(S,Q)},v=S=>R.value.onClickOutside?R.value.onClickOutside(S):Me(!0),ne=(S=0)=>{var Q;(Q=p.value)==null||Q.handleFlow(S)};return Vr(Y,P,()=>v(L)),n({closeMenu:Me,selectDate:de,clearValue:M,openMenu:me,onScroll:ee,formatInputValue:u,updateInternalModelValue:Xt,setMonthYear:Ft,parseModel:en,switchView:Yn,toggleMenu:bt,handleFlow:ne,dpWrapMenuRef:Y}),(S,Q)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:$,class:e.normalizeClass(ce.value),"data-datepicker-instance":"","data-dp-mobile":e.unref(V)},[e.createVNode(Nr,e.mergeProps({ref_key:"inputRef",ref:P,"input-value":e.unref(G),"onUpdate:inputValue":Q[0]||(Q[0]=oe=>e.isRef(G)?G.value=oe:null),"is-menu-open":f.value},S.$props,{onClear:M,onOpen:me,onSetInputDate:Gt,onSetEmptyDate:e.unref(_),onSelectDate:de,onToggle:bt,onClose:Me,onFocus:Jt,onBlur:Zt,onRealBlur:Q[1]||(Q[1]=oe=>g.value=!1),onTextInput:Q[2]||(Q[2]=oe=>S.$emit("text-input",oe))}),e.createSlots({_:2},[e.renderList(e.unref(h),(oe,Re)=>({name:oe,fn:e.withCtx(Ie=>[e.renderSlot(S.$slots,oe,e.normalizeProps(e.guardReactiveProps(Ie)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(S.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(fe.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(ie)(e.unref(j)),css:e.unref(y)&&!e.unref(q).enabled},{default:e.withCtx(()=>[f.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:Y},z.value,{class:{"dp--menu-wrapper":!e.unref(q).enabled},style:e.unref(q).enabled?void 0:e.unref(C)}),[e.createVNode(On,e.mergeProps({ref_key:"dpMenuRef",ref:p},S.$props,{"internal-model-value":e.unref(i),"onUpdate:internalModelValue":Q[3]||(Q[3]=oe=>e.isRef(i)?i.value=oe:null),class:{[T.value]:!0,"dp--menu-wrapper":S.teleport},"open-on-top":e.unref(j),"no-overlay-focus":ae.value,collapse:U.value,"get-input-rect":o,"is-text-input-date":d.value,onClosePicker:Me,onSelectDate:de,onAutoApply:ue,onTimeUpdate:Qt,onFlowStep:Q[4]||(Q[4]=oe=>S.$emit("flow-step",oe)),onUpdateMonthYear:Q[5]||(Q[5]=oe=>S.$emit("update-month-year",oe)),onInvalidSelect:Q[6]||(Q[6]=oe=>S.$emit("invalid-select",e.unref(i))),onAutoApplyInvalid:Q[7]||(Q[7]=oe=>S.$emit("invalid-select",oe)),onInvalidFixedRange:Q[8]||(Q[8]=oe=>S.$emit("invalid-fixed-range",oe)),onRecalculatePosition:e.unref(re),onTooltipOpen:Q[9]||(Q[9]=oe=>S.$emit("tooltip-open",oe)),onTooltipClose:Q[10]||(Q[10]=oe=>S.$emit("tooltip-close",oe)),onTimePickerOpen:Q[11]||(Q[11]=oe=>S.$emit("time-picker-open",oe)),onTimePickerClose:Q[12]||(Q[12]=oe=>S.$emit("time-picker-close",oe)),onAmPmChange:Q[13]||(Q[13]=oe=>S.$emit("am-pm-change",oe)),onRangeStart:Q[14]||(Q[14]=oe=>S.$emit("range-start",oe)),onRangeEnd:Q[15]||(Q[15]=oe=>S.$emit("range-end",oe)),onDateUpdate:Q[16]||(Q[16]=oe=>S.$emit("date-update",oe)),onInvalidDate:Q[17]||(Q[17]=oe=>S.$emit("invalid-date",oe)),onOverlayToggle:Q[18]||(Q[18]=oe=>S.$emit("overlay-toggle",oe)),onMenuBlur:Q[19]||(Q[19]=oe=>S.$emit("blur"))}),e.createSlots({_:2},[e.renderList(e.unref(Z),(oe,Re)=>({name:oe,fn:e.withCtx(Ie=>[e.renderSlot(S.$slots,oe,e.normalizeProps(e.guardReactiveProps({...Ie})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,_r))}}),qt=(()=>{const t=Ir;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(qt[t]=n)}),qt});
